{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport { BaiduMap, BmWalking, BmInfoWindow, BmBoundary, BmScale, BmMarker, BmLabel, BmLocalSearch, BmCircle, BmBus } from \"vue-baidu-map-3x\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n// import { Configuration, OpenAIApi } from \"openai\"; // æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´åº“çš„å¯¼å…¥è·¯å¾„\nimport OpenAI from \"openai\";\nimport Qs from 'qs';\nimport * as echarts from 'echarts';\nexport default {\n  components: {\n    BaiduMap,\n    BmWalking,\n    BmInfoWindow,\n    BmBoundary,\n    BmScale,\n    BmMarker,\n    BmLabel,\n    BmLocalSearch,\n    BmCircle,\n    BmBus,\n    echarts\n  },\n  data() {\n    return {\n      center: {\n        lat: 31.23,\n        lng: 121.474\n      },\n      zoom: 15,\n      //ä¸€äº›æ™¯ç‚¹åæ ‡ç‚¹\n      markers: [{\n        position: {\n          lng: 121.4912,\n          lat: 31.2438\n        },\n        content: \"å—äº¬ä¸œè·¯\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4811,\n          lat: 31.2346\n        },\n        content: \"äººæ°‘å¹¿åœº\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5073,\n          lat: 31.2437\n        },\n        content: \"é™†å®¶å˜´\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4972,\n          lat: 31.2429\n        },\n        content: \"å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4972,\n          lat: 31.2489\n        },\n        content: \"å¤–ç™½æ¸¡æ¡¥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4896,\n          lat: 31.2482\n        },\n        content: \"ä¹æµ¦è·¯æ¡¥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4943,\n          lat: 31.2343\n        },\n        content: \"è±«å›­\",\n        show: false\n      }, {\n        position: {\n          lng: 121.483,\n          lat: 31.2342\n        },\n        content: \"ä¸Šæµ·åšç‰©é¦†\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4746,\n          lat: 31.2266\n        },\n        content: \"æ·®æµ·ä¸­è·¯\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5083,\n          lat: 31.2469\n        },\n        content: \"ä¸œæ–¹æ˜ç \",\n        show: false\n      }, {\n        position: {\n          lng: 121.4526,\n          lat: 31.2292\n        },\n        content: \"é™å®‰å¯º\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4449,\n          lat: 31.211\n        },\n        content: \"æ­¦åº·å¤§æ¥¼\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4455,\n          lat: 31.2102\n        },\n        content: \"å®‹åº†é¾„æ•…å±…\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4427,\n          lat: 31.2015\n        },\n        content: \"å¾å®¶æ±‡\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4759,\n          lat: 31.2139\n        },\n        content: \"ç”°å­åŠ\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4812,\n          lat: 31.2229\n        },\n        content: \"ä¸­å…±ä¸€å¤§ä¼šå€\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5076,\n          lat: 31.2132\n        },\n        content: \"å—æµ¦å¤§æ¡¥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4691,\n          lat: 31.2424\n        },\n        content: \"ä¸Šæµ·è‡ªç„¶åšç‰©é¦†\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"æ€å—å…¬é¦†\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"å››å·åŒ—è·¯\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"æ€å—å…¬é¦†\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4899,\n          lat: 31.2776\n        },\n        content: \"é²è¿…å…¬å›­\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4908,\n          lat: 31.2581\n        },\n        content: \"å››å·åŒ—è·¯\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5331,\n          lat: 31.2561\n        },\n        content: \"æ¨æµ¦æ»¨æ±Ÿ\",\n        show: false\n      }, {\n        position: {\n          lng: 121.49,\n          lat: 31.2711\n        },\n        content: \"ç”œçˆ±è·¯\",\n        show: false\n      }, {\n        position: {\n          lng: 121.488,\n          lat: 31.2696\n        },\n        content: \"å¤šä¼¦è·¯æ–‡åŒ–åäººè¡—\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5088,\n          lat: 31.2888\n        },\n        content: \"åŒæµå¤§å­¦\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"åŒ—å¤–æ»©\",\n        show: false\n      }],\n      weatherData: null,\n      //å­˜å‚¨å¤©æ°”æ•°æ®\n      city: \"310000\",\n      //ä¸Šæµ·\n      selectedMarkerIndex: -1,\n      // è®°å½•é€‰ä¸­çš„æ ‡è®°ç´¢å¼•\n      dialogBox: \"ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ä»¥è·å¾—æ™ºèƒ½å°åŠ©æ‰‹å»ºè®®ï½\",\n      WikiPage: [],\n      // æ–°æ·»åŠ çš„ç©ºæ•°ç»„\n      searchPlace: \"ä¸Šæµ·\",\n      briefIntro: \"<p>æš‚æ—¶æ²¡æœ‰å¯¹è¯¥åœ°ç‚¹çš„ç®€ä»‹å“¦ï½</p>\",\n      poem: \"\",\n      //ç‚¹å‡»è·å–ç‚¹å‡»åœ°ç‚¹çš„ç»åº¦å’Œçº¬åº¦\n      clickLat: 31.23,\n      clickLng: 121.474,\n      clickAddress: \"ä¸Šæµ·å¸‚æ¨æµ¦åŒºå››å¹³è·¯1239å·\",\n      //è®¾ç½®æœç´¢èŒƒå›´\n      nearby: {\n        center: {\n          lng: 121.474,\n          lat: 31.23\n        },\n        radius: 10000\n      },\n      placeKeyword: \"\",\n      startPlace: \"\",\n      startPosition: null,\n      endPlace: \"\",\n      endPosition: null,\n      planRoute: false,\n      weatherWeek: null,\n      dressAdvice: \"\",\n      holiday: \"\"\n    };\n  },\n  watch: {\n    weatherData(newData) {\n      console.log(newData);\n      // åœ¨è¿™é‡Œæ‰§è¡Œä½ å¸Œæœ›åœ¨ weatherData æ›´æ–°åç«‹å³æ‰§è¡Œçš„é€»è¾‘\n      // console.log(this.weatherData);\n    }\n  },\n\n  created() {\n    this.getWeatherData();\n    // if(this.weatherData!=null)\n    // this.getWeatherPoem();\n    // this.getWeekWeather();\n    this.getHoliday(10);\n  },\n  mounted() {\n    this.mapInstance = this.$refs.map ? this.$refs.map.getMap() : null;\n    // this.getWeatherData();\n    this.searchWiki(\"ä¸Šæµ·\");\n  },\n  methods: {\n    //é€šè¿‡ç‚¹å‡»åœ°å›¾ä¸Šçš„ç‚¹è·å¾—è¯¥ç‚¹å…·ä½“çš„åœ°ç‚¹åç§°\n    handleMapClick(event) {\n      const point = new BMap.Point(event.point.lng, event.point.lat);\n      const geoc = new BMap.Geocoder();\n\n      // è°ƒç”¨ç™¾åº¦åœ°å›¾ API çš„é€†åœ°ç†ç¼–ç æ–¹æ³•è·å–åœ°å\n      geoc.getLocation(point, result => {\n        if (result) {\n          const address = result.address; // åœ°å\n          const lng = result.point.lng; // ç»åº¦\n          const lat = result.point.lat; // çº¬åº¦\n\n          this.clickLat = lat;\n          this.clickLng = lng;\n          this.clickAddress = address;\n\n          // å¤„ç†è·å–åˆ°çš„åœ°åã€ç»çº¬åº¦æ•°æ®\n          console.log(\"åœ°å:\", address);\n          console.log(\"ç»åº¦:\", lng);\n          console.log(\"çº¬åº¦:\", lat);\n        }\n      });\n    },\n    //æ”¾å¤§åœ°å›¾\n    zoomIn() {\n      this.zoom += 1; // æ”¾å¤§åœ°å›¾ç¼©æ”¾çº§åˆ«\n      // this.$refs.baiduMap.setZoom(this.zoom); // è°ƒç”¨ setZoom æ–¹æ³•æ›´æ–°åœ°å›¾ç¼©æ”¾çº§åˆ«\n    },\n\n    //ç¼©å°åœ°å›¾\n    zoomOut() {\n      this.zoom -= 1; // ç¼©å°åœ°å›¾ç¼©æ”¾çº§åˆ«\n      // this.$refs.baiduMap.setZoom(this.zoom); // è°ƒç”¨ setZoom æ–¹æ³•æ›´æ–°åœ°å›¾ç¼©æ”¾çº§åˆ«\n    },\n\n    //è®¾ç½®ä¸ºèµ·ç‚¹\n    setStartPlace() {\n      this.startPlace = this.clickAddress;\n      this.startPosition = {\n        lat: this.clickLat,\n        lng: this.clickLng\n      };\n    },\n    //è®¾ç½®ä¸ºç»ˆç‚¹\n    setEndPlace() {\n      this.endPlace = this.clickAddress;\n      this.endPosition = {\n        lat: this.clickLat,\n        lng: this.clickLng\n      };\n    },\n    PlanRoute() {\n      if (this.startPlace != \"\" && this.endPlace != \"\") this.planRoute = true;else {\n        // å¼¹çª—æé†’ç”¨æˆ·è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹\n        alert(\"è¯·è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹\");\n      }\n    },\n    StopPlanRoute() {\n      this.planRoute = false;\n      this.startPlace = \"\";\n      this.endPlace = \"\";\n    },\n    //è°ƒç”¨å¤©æ°”apiï¼Œå·²ç»å¯ä»¥è°ƒå–æˆåŠŸ\n    getWeatherData() {\n      const key = \"\t3f6157ccb2e4ec191a030932e211ffaa\"; // å°† `your key` æ›¿æ¢æˆä½ çš„é«˜å¾·å¼€å‘è€…key\n      const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=${key}&city=${this.city}`;\n      console.log(\"è·å–å¤©æ°”\");\n      axios.get(url).then(response => {\n        if (response.status === 200) {\n          this.weatherData = response.data;\n          console.log(response.data);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    //è°ƒç”¨å¤©æ°”è¯—å¥api\n    getWeatherPoem() {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/tianqishiju/index',\n        data: Qs.stringify({\n          key: '1e12d5d1fb06599d02ef546b73e2c360',\n          tqtype: 2\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        // this.tianapi_data = res.data\n        console.log(res.data);\n        this.poem = res.data.result;\n      });\n    },\n    //å¾—åˆ°ä¸€å‘¨çš„å¤©æ°”\n    getWeekWeather() {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/tianqi/index',\n        data: Qs.stringify({\n          key: '1e12d5d1fb06599d02ef546b73e2c360',\n          city: '101020100',\n          type: '7'\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        this.dressAdvice = res.data.result.list[0].tips;\n        this.weatherWeek = res.data.result.list.map(item => ({\n          week: item.week,\n          date: item.date,\n          lowest: parseFloat(item.lowest),\n          highest: parseFloat(item.highest),\n          weather: item.weather,\n          sunrise: item.sunrise,\n          sunset: item.sunset\n        }));\n        console.log(this.weatherWeek);\n        setTimeout(() => {\n          this.drawChart();\n        }, 200);\n      });\n    },\n    drawChart() {\n      const highestArr = this.weatherWeek.map(item => item.highest);\n      const lowestArr = this.weatherWeek.map(item => item.lowest);\n      const sunriseArr = this.weatherWeek.map(item => item.sunrise);\n      const sunsetArr = this.weatherWeek.map(item => item.sunset);\n      const weatherArr = this.weatherWeek.map(item => item.weather);\n      const weekArr = this.weatherWeek.map(item => item.week);\n      const chartDom = this.$refs.weatherChart;\n      const myChart = echarts.init(chartDom);\n      var option;\n      option = {\n        title: {\n          text: 'ä¸€å‘¨å¤©æ°”é¢„æŠ¥â˜ï¸',\n          textStyle: {\n            color: '#fff'\n          }\n        },\n        tooltip: {\n          trigger: 'axis',\n          textStyle: {\n            color: 'black'\n          },\n          formatter: function (params) {\n            var tooltipContent = '';\n            var dataIndex = params[0].dataIndex;\n            tooltipContent += 'æ—¥æœŸï¼š' + weekArr[dataIndex] + '<br>';\n            tooltipContent += 'æœ€é«˜æ°”æ¸©ï¼š' + highestArr[dataIndex] + 'â„ƒ<br>';\n            tooltipContent += 'æœ€ä½æ°”æ¸©ï¼š' + lowestArr[dataIndex] + 'â„ƒ<br>';\n            tooltipContent += 'æ—¥å‡ºæ—¶é—´ï¼š' + sunriseArr[dataIndex] + '<br>';\n            tooltipContent += 'æ—¥è½æ—¶é—´ï¼š' + sunsetArr[dataIndex] + '<br>';\n            tooltipContent += 'å¤©æ°”çŠ¶å†µï¼š' + weatherArr[dataIndex] + '<br>';\n            return tooltipContent;\n          }\n        },\n        legend: {\n          data: ['highest-temperature', 'lowest-temperature'],\n          textStyle: {\n            color: '#fff'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        toolbox: {\n          feature: {\n            saveAsImage: {}\n          }\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: weekArr,\n          axisLabel: {\n            textStyle: {\n              color: '#fff'\n            }\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            textStyle: {\n              color: '#fff'\n            }\n          }\n        },\n        series: [{\n          name: 'highest-temperature',\n          type: 'line',\n          data: highestArr,\n          markPoint: {\n            data: [{\n              type: 'max',\n              name: 'Max'\n            }, {\n              type: 'min',\n              name: 'Min'\n            }],\n            label: {\n              show: true,\n              color: '#fff',\n              fontSize: 12\n            }\n          },\n          markLine: {\n            data: [{\n              type: 'average',\n              name: 'Avg'\n            }]\n          },\n          lineStyle: {\n            color: '#ef8183',\n            // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n            width: 4 // è®¾ç½®æŠ˜çº¿çº¿å®½ä¸º3\n          },\n\n          itemStyle: {\n            color: '#ef8183' // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n          }\n        }, {\n          name: 'lowest-temperature',\n          type: 'line',\n          data: lowestArr,\n          markPoint: {\n            data: [{\n              type: 'max',\n              name: 'Max'\n            }, {\n              type: 'min',\n              name: 'Min'\n            }],\n            label: {\n              show: true,\n              color: '#fff',\n              fontSize: 12\n            }\n          },\n          markLine: {\n            data: [{\n              type: 'average',\n              name: 'Avg'\n            }]\n          },\n          lineStyle: {\n            color: '#699ed4',\n            // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n            width: 4 // è®¾ç½®æŠ˜çº¿çº¿å®½ä¸º3\n          },\n\n          itemStyle: {\n            color: '#699ed4' // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n          }\n        }, {\n          name: 'weather',\n          type: 'scatter',\n          data: weatherArr,\n          symbolSize: 10,\n          itemStyle: {\n            color: '#fff'\n          },\n          tooltip: {\n            formatter: function (params) {\n              return 'å¤©æ°”çŠ¶å†µï¼š' + params.value;\n            }\n          }\n        }]\n      };\n      myChart.setOption(option);\n    },\n    //è°ƒç”¨Wikiç™¾ç§‘API\n    async searchWiki(keyword) {\n      try {\n        const response = await axios.get(\"https://zh.wikipedia.org/w/api.php\", {\n          params: {\n            format: \"json\",\n            action: \"query\",\n            generator: \"search\",\n            gsrnamespace: 0,\n            gsrlimit: 5,\n            prop: \"pageimages|extracts\",\n            pilimit: \"max\",\n            exintro: true,\n            explaintext: true,\n            exsentences: 1,\n            exlimit: \"max\",\n            origin: \"*\",\n            gsrsearch: keyword\n          }\n        });\n        const pages = response.data.query.pages;\n        const wikiPages = [];\n        for (let pageId in pages) {\n          const page = pages[pageId];\n          const wikiPage = {\n            title: page.title,\n            thumbnail: page.thumbnail,\n            extract: page.extract,\n            url: \"\"\n          };\n          // å°†titleæ‹¼æ¥æˆè®¿é—®ä¸­æ–‡ç»´åŸºç™¾ç§‘çš„é“¾æ¥\n          wikiPage.url = \"http://zh.wikipedia.org/wiki/\" + encodeURIComponent(page.title);\n          wikiPages.push(wikiPage);\n        }\n        this.WikiPage = wikiPages;\n        console.log(this.WikiPage);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    },\n    //å¾—åˆ°æ™¯ç‚¹ä»‹ç»\n    getBriefIntro(place) {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/scenic/index',\n        data: Qs.stringify({\n          key: '1e12d5d1fb06599d02ef546b73e2c360',\n          word: place\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        if (res.data.code == 200) this.briefIntro = res.data.result.list[0].content;else {\n          this.briefIntro = \"<p>æš‚æ—¶æ²¡æœ‰å¯¹è¯¥åœ°ç‚¹çš„ç®€ä»‹å“¦ï½</p>\";\n        }\n        console.log(res.data);\n        console.log(res);\n      });\n    },\n    //è°ƒç”¨æŸ¥è¯¢èŠ‚å‡æ—¥çš„æ¥å£ï¼Œå¾—åˆ°è¿™ä¸ªæœˆçš„èŠ‚å‡æ—¥\n    getHoliday(month) {\n      var Date = '2023-' + month;\n      console.log(Date);\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/jiejiari/index',\n        data: Qs.stringify({\n          key: '1e12d5d1fb06599d02ef546b73e2c360',\n          date: Date,\n          type: 2\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        // this.tianapi_data = res.data;\n        // console.log(res.data.result.list);\n        // æå–isnotworkä¸º1çš„é¡¹å¹¶å­˜å‚¨åˆ°dataçš„holidayå˜é‡ä¸­\n        this.holiday = res.data.result.list.filter(item => item.isnotwork === 1);\n        console.log(this.holiday);\n      });\n    },\n    handleMarkerClick(marker, index) {\n      // const details = marker.name; // å‡è®¾æ ‡è®°å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§ name å­˜å‚¨åœ°ç‚¹åç§°\n      console.log(\"ç‚¹å‡»äº†\" + index);\n      const details = this.markers[index].content;\n      console.log(details);\n      this.searchPlace = details;\n      //è°ƒç”¨Wikiçš„æ¥å£\n      var href = this.searchWiki(details);\n      //è°ƒç”¨æ™¯ç‚¹ä»‹ç»çš„æ¥å£\n      this.getBriefIntro(details);\n      //è°ƒç”¨GPTæ¥å£\n      // this.initGPT3(details);\n    },\n\n    //ç‚¹å‡»ç©¿è¡£æŒ‰é’®ä¹‹åè·å–ç©¿è¡£å»ºè®®\n    getDressAdvice() {\n      const details = \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" + \"æ¹¿åº¦ï¼š\" + this.weatherData.lives[0].humidity + \"ï¼Œæ¸©åº¦ï¼š\" + this.weatherData.lives[0].temperature + \"ï¼Œå¤©æ°”ï¼š\" + this.weatherData.lives[0].weather + \"ï¼Œé£åŠ›ï¼š\" + this.weatherData.lives[0].windpower + \"ï¼Œè¯·é—®å¯ä»¥ç»™å‡ºç©¿è¡£å»ºè®®å—ï¼Ÿå¯ä»¥æŠŠä¸‹é¢è¿™æ®µè¯æ‰©å†™ä¸€ä¸‹å˜å¾—æ›´åŠ æ´»æ³¼ä¿çš®ï¼š\" + this.dressAdvice + \",ç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ç›´æ¥ç”Ÿæˆä¸€æ®µè¯ï¼Œ50åˆ°80å­—å·¦å³ï¼Œä¸è¦åˆ—å‡ºä¸€ç‚¹ä¸€ç‚¹çš„ï¼Œä¹Ÿä¸è¦å¤ªé•¿ï¼‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //ç‚¹å‡»å‡ºè¡ŒæŒ‰é’®ä¹‹åè·å–å‡ºè¡Œå»ºè®®\n    getTravelAdvice() {\n      const details = \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" + \"æ¹¿åº¦ï¼š\" + this.weatherData.lives[0].humidity + \"ï¼Œæ¸©åº¦ï¼š\" + this.weatherData.lives[0].temperature + \"ï¼Œå¤©æ°”ï¼š\" + this.weatherData.lives[0].weather + \"ï¼Œé£åŠ›ï¼š\" + this.weatherData.lives[0].windpower + \"ï¼Œè¯·é—®å¯ä»¥ç»™å‡ºå‡ºè¡Œå»ºè®®å—ï¼Ÿå°±æ ¹æ®æˆ‘ç»™ä½ çš„ä¸Šæµ·ç›®å‰çš„å¤©æ°”ä¿¡æ¯ç»™å‡ºï¼Œæ¯”å¦‚è¯´å¦‚æœä»Šå¤©ä¸‹é›¨å°±å»ºè®®æ‰“è½¦æˆ–è€…åœ°é“ï¼Œå¦‚æœä»Šå¤©å¤©æ™´å°±å»ºè®®éª‘è‡ªè¡Œè½¦æˆ–è€…èµ°è·¯ï¼Œå¦‚æœé£å¤§å°±å°½é‡ä¸è¦éª‘è½¦ç­‰ç­‰ã€‚ï¼ˆç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ç›´æ¥ç”Ÿæˆä¸€æ®µè¯ï¼Œ50åˆ°80å­—å·¦å³ï¼Œä¸è¦åˆ—å‡ºä¸€ç‚¹ä¸€ç‚¹çš„ï¼Œä¹Ÿä¸è¦å¤ªé•¿ï¼‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //ç‚¹å‡»å¤©æ°”æ¦‚è¿°æŒ‰é’®ä¹‹åè·å–å¤©æ°”æ¦‚è¿°\n    getWeatherSummary() {\n      const details = \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" + \"æ¹¿åº¦ï¼š\" + this.weatherData.lives[0].humidity + \"ï¼Œæ¸©åº¦ï¼š\" + this.weatherData.lives[0].temperature + \"ï¼Œå¤©æ°”ï¼š\" + this.weatherData.lives[0].weather + \"ï¼Œé£åŠ›ï¼š\" + this.weatherData.lives[0].windpower + \"ï¼Œè¯·ä½ ç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ï¼ŒåŒæ—¶å†™ä¸€é¦–å”è¯—æ¥æè¿°ä»Šå¤©çš„å¤©æ°”ï¼Œè¿™é¦–è¯—éœ€è¦åŒ…å«ä»Šå¤©çš„å¤©æ°”ç‰¹ç‚¹ä»¥åŠäººä»¬çš„æ´»åŠ¨ï¼Œæ™¯è‰²ç­‰ç­‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    showResponse() {\n      // å°†å›å¤æ˜¾ç¤ºåœ¨å¯¹è¯æ¡†ä¸­\n      this.dialogBox = \"æ­£åœ¨ç”Ÿæˆä¸­......\";\n    },\n    async initGPT3(details, choice) {\n      const API_KEY = \"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\"; //è¾“å…¥API Key\n      const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true\n      });\n      console.log(\"æ­£åœ¨ç”Ÿæˆä»‹ç»\" + details + \"çš„ä¿¡æ¯\");\n      const chatCompletion = await openai.chat.completions.create({\n        messages: [{\n          role: \"user\",\n          content: `ä½ å¥½ï¼Œ${details}`\n        }],\n        model: \"gpt-3.5-turbo\"\n      });\n      console.log(chatCompletion);\n      console.log(chatCompletion.choices[0].message.content);\n      // è¯´æ˜æ­¤æ—¶æ˜¯åœ¨ç”Ÿæˆæ™ºèƒ½å‡ºè¡Œå°åŠ©æ‰‹\n      if (choice == 1) {\n        //æ˜¾ç¤ºåœ¨æ¶ˆæ¯æ¡†å†…\n        this.dialogBox = chatCompletion.choices[0].message.content;\n      } else {}\n    }\n  }\n};","map":{"version":3,"names":["BaiduMap","BmWalking","BmInfoWindow","BmBoundary","BmScale","BmMarker","BmLabel","BmLocalSearch","BmCircle","BmBus","ref","onMounted","axios","OpenAI","Qs","echarts","components","data","center","lat","lng","zoom","markers","position","content","show","weatherData","city","selectedMarkerIndex","dialogBox","WikiPage","searchPlace","briefIntro","poem","clickLat","clickLng","clickAddress","nearby","radius","placeKeyword","startPlace","startPosition","endPlace","endPosition","planRoute","weatherWeek","dressAdvice","holiday","watch","newData","console","log","created","getWeatherData","getHoliday","mounted","mapInstance","$refs","map","getMap","searchWiki","methods","handleMapClick","event","point","BMap","Point","geoc","Geocoder","getLocation","result","address","zoomIn","zoomOut","setStartPlace","setEndPlace","PlanRoute","alert","StopPlanRoute","key","url","get","then","response","status","catch","error","getWeatherPoem","method","stringify","tqtype","headers","res","getWeekWeather","type","list","tips","item","week","date","lowest","parseFloat","highest","weather","sunrise","sunset","setTimeout","drawChart","highestArr","lowestArr","sunriseArr","sunsetArr","weatherArr","weekArr","chartDom","weatherChart","myChart","init","option","title","text","textStyle","color","tooltip","trigger","formatter","params","tooltipContent","dataIndex","legend","grid","left","right","bottom","containLabel","toolbox","feature","saveAsImage","xAxis","boundaryGap","axisLabel","yAxis","series","name","markPoint","label","fontSize","markLine","lineStyle","width","itemStyle","symbolSize","value","setOption","keyword","format","action","generator","gsrnamespace","gsrlimit","prop","pilimit","exintro","explaintext","exsentences","exlimit","origin","gsrsearch","pages","query","wikiPages","pageId","page","wikiPage","thumbnail","extract","encodeURIComponent","push","getBriefIntro","place","word","code","month","Date","filter","isnotwork","handleMarkerClick","marker","index","details","href","getDressAdvice","lives","humidity","temperature","windpower","initGPT3","showResponse","getTravelAdvice","getWeatherSummary","choice","API_KEY","openai","apiKey","dangerouslyAllowBrowser","chatCompletion","chat","completions","create","messages","role","model","choices","message"],"sources":["/Users/mac/Desktop/ä½œä¸š/å¾®æœåŠ¡æ¶æ„/Microservice-Personal-Project/src/components/map.vue"],"sourcesContent":["<template>\n  <div class=\"map-weather-container\">\n    <!-- ç”¨äºæ˜¾ç¤ºåœ°å›¾ -->\n    <div class=\"map\">\n      <baidu-map class=\"map\" :center=\"center\" :zoom=\"zoom\" :scroll-wheel-zoom=true @click=\"handleMapClick\">\n\n        <!-- ç»™ç‰¹æ®Šåœ°ç‚¹åŠ ä¸Šä¸€äº›æ ‡æ³¨å’Œè¯´æ˜ -->\n        <bm-marker v-for=\"(marker, index) in markers\" :key=\"index\" :position=\"marker.position\" :dragging=\"false\"\n          @click=\"handleMarkerClick(marker, index)\">\n          <bm-label :content=\"marker.content\" :labelStyle=\"{ color: 'red', fontSize: '15px' }\"\n            :offset=\"{ width: -35, height: 30 }\"></bm-label>\n        </bm-marker>\n        <!-- åœ°å›¾ç±»å‹åˆ‡æ¢ -->\n        <!-- <bm-map-type :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\" anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-map-type> -->\n\n        <div class=\"zoom-controls\">\n          <button @click=\"zoomIn\">æ”¾å¤§</button>\n          <button @click=\"zoomOut\">ç¼©å°</button>\n        </div>\n        <!-- æ˜¾ç¤ºå½“å‰ç”¨æˆ·ç‚¹å‡»çš„åœ°ç‚¹çš„ç»çº¬åº¦ -->\n        <div class=\"showAddress\">\n          <div>çº¬åº¦ï¼š{{ clickLat }}</div>\n          <div>ç»åº¦ï¼š{{ clickLng }}</div>\n          <div>åœ°å€ï¼š{{ clickAddress }}</div>\n        </div>\n\n        <!-- æ­¥è¡Œè·¯çº¿ -->\n        <bm-walking v-if=\"planRoute\" :start=\"startPosition\" :end=\"endPosition\" location=\"ä¸Šæµ·\" :auto-viewport=\"true\"\n          :selectFirstResult=\"true\" :panel=\"true\"></bm-walking>\n        <!-- å…¬äº¤çº¿è·¯æŸ¥è¯¢ -->\n        <!-- <bm-bus keyword=\"123è·¯å…¬äº¤è½¦\" :auto-viewport=\"true\" location=\"ä¸Šæµ·\"></bm-bus> -->\n      </baidu-map>\n      <!-- ç”¨äºæ˜¾ç¤ºå³è¾¹çš„ä¿¡æ¯æ¡† -->\n      <div class=\"info\">\n        <!-- ç”¨äºæ˜¾ç¤ºå¤©æ°” -->\n        <div class=\"weather-container\" v-if=\"weatherData\">\n          <!-- æ˜¾ç¤ºå¤©æ°”éƒ¨åˆ†çš„title -->\n          <div class=\"weather-header\">\n            <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n              {{ weatherData.lives[0].city }}å®æ—¶å¤©æ°”â˜ï¸\n              <span style=\"color: #d4d3d3; font-size: 16px; font-weight: normal\">\n                {{ weatherData.lives[0].reporttime }}\n              </span>\n            </p>\n          </div>\n          <!-- å¤©æ°”çš„å…·ä½“ä¿¡æ¯+å‡ºè¡Œå»ºè®® -->\n          <div class=\"weather-details-container\">\n            <!-- æ˜¾ç¤ºå¤©æ°”çš„å…·ä½“ä¿¡æ¯ -->\n            <div class=\"weather-details\">\n              <p>æ¸©åº¦ğŸŒ¡ï¸ï¼š{{ weatherData.lives[0].temperature }}Â°C</p>\n              <p>å¤©æ°”â˜ï¸ï¼š{{ weatherData.lives[0].weather }}</p>\n              <p>æ¹¿åº¦ğŸ’§ï¼š{{ weatherData.lives[0].humidity }}%</p>\n              <p>é£å‘ğŸŒ¬ï¼š{{ weatherData.lives[0].winddirection }}é£</p>\n              <p>é£åŠ›ğŸ’¨ï¼š{{ weatherData.lives[0].windpower }}çº§</p>\n            </div>\n            <!-- æ˜¾ç¤ºå…·ä½“çš„å‡ºè¡Œå»ºè®® -->\n            <div>\n              <!-- title -->\n              <div style=\"font-size: 18px; font-weight: bold;\">å‡ºè¡Œæ™ºèƒ½å°åŠ©æ‰‹ğŸ¤–ï¸</div>\n              <div class=\"weather-dialog-box\">\n                <div class=\"dialog-content\">{{ dialogBox }}</div>\n              </div>\n              <!-- æ·»åŠ æŒ‰é’® -->\n              <button id=\"dress-advice-btn\" @click=\"getDressAdvice\">ç©¿è¡£å»ºè®®</button>\n              <button id=\"travel-advice-btn\" @click=\"getTravelAdvice\">å‡ºè¡Œå»ºè®®</button>\n              <button id=\"weather-summary-btn\" @click=\"getWeatherSummary\">å¤©æ°”æ¦‚è¿°</button>\n              <!-- å¯¹è¯æ¡† -->\n            </div>\n          </div>\n          <!-- ç”±äºè¯—å¥çš„apiä¸€å¤©å†…æ˜¯æœ‰é™é¢çš„ï¼Œæ‰€ä»¥è¿™è¾¹æš‚ä¸”æ³¨é‡Šæ‰ï¼Œåˆ°æ—¶å€™æ¼”ç¤ºå’Œæäº¤ä»£ç çš„æ—¶å€™åˆ«å¿˜äº†æ”¾å¼€æ³¨é‡Š -->\n          <div class=\"poem\">{{ poem.content }} â€”â€”â€”â€” {{ poem.author }}ã€Š{{ poem.source }}ã€‹</div>\n          <!-- <div class=\"poem\">\"é»„æ²³è¿œä¸Šç™½äº‘é—´ï¼Œä¸€ç‰‡å­¤åŸä¸‡ä»å±±ã€‚\" â€”â€”â€”â€” ç™½å±…æ˜“ã€Šç™»é»„é¹¤æ¥¼ã€‹</div> -->\n\n          <!-- æ˜¾ç¤ºä¸€å‘¨çš„å¤©æ°”èµ°å‘ -->\n          <div>\n            <div ref=\"weatherChart\" style=\"width: 600px; height: 400px;margin-left:20px;margin-top: 20px;\"></div>\n          </div>\n        </div>\n\n        <!-- å¯¹èŠ‚å‡æ—¥çš„æŸ¥è¯¢ -->\n        <div class=\"brief-introduction\">\n          <!-- æ˜¾ç¤ºwikiéƒ¨åˆ†çš„title -->\n          <div class=\"weather-header\">\n            <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n              èŠ‚å‡æ—¥æŸ¥è¯¢ğŸ“…\n            </p>\n          </div>\n          <!-- ä¸‹æ‹‰é€‰æ‹©æ¡† -->\n          <div style=\"margin-left:29px;\">\n            <select v-model=\"selectedMonth\" style=\"margin-right:10px;\">\n              <option value=\"1\">ä¸€æœˆ</option>\n              <option value=\"2\">äºŒæœˆ</option>\n              <option value=\"3\">ä¸‰æœˆ</option>\n              <option value=\"4\">å››æœˆ</option>\n              <option value=\"5\">äº”æœˆ</option>\n              <option value=\"6\">å…­æœˆ</option>\n              <option value=\"7\">ä¸ƒæœˆ</option>\n              <option value=\"8\">baæœˆ</option>\n              <option value=\"9\">ä¸€æœˆ</option>\n              <option value=\"10\">ä¸€æœˆ</option>\n              <option value=\"11\">ä¸€æœˆ</option>\n              <option value=\"12\">ä¸€æœˆ</option>\n              <!-- æ·»åŠ æ›´å¤šçš„æœˆä»½é€‰é¡¹ -->\n            </select>\n            <button @click=\"getHoliday(selectedMonth)\">æŸ¥è¯¢èŠ‚å‡æ—¥</button>\n          </div>\n          <!-- æ˜¾ç¤ºæœç´¢ç»“æœ -->\n          <div class=\"briefintro-searchresult\">\n            <ul>\n              <li v-for=\"item in holiday\" :key=\"index\">\n                <p style=\"color:gold;\">{{ item.date }} {{ item.cnweekday }} {{ item.name }}</p>\n                <p style=\"color:#ccc;font-size:small;\">{{ item.lunaryear }} {{ item.lunarmonth }} {{ item.lunarday }}</p>\n                <p>{{ item.tip }}</p>\n              </li>\n            </ul>\n          </div>\n\n        </div>\n\n\n\n        <!-- å¯¹æ™¯ç‚¹çš„ç®€ä»‹ -->\n        <div class=\"brief-introduction\">\n          <!-- æ˜¾ç¤ºwikiéƒ¨åˆ†çš„title -->\n          <div class=\"weather-header\">\n            <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n              æ™¯ç‚¹ç®€ä»‹ğŸ“–\n              <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n                ä¸‹é¢æ˜¯å¯¹â€œ{{ searchPlace }}\"çš„ç®€ä»‹\n              </span>\n            </p>\n          </div>\n\n          <!-- æ˜¾ç¤ºæœç´¢ç»“æœ -->\n          <div class=\"briefintro-searchresult\">\n            <div v-html=\"briefIntro\"></div>\n          </div>\n\n        </div>\n        <!-- ç”¨äºæ˜¾ç¤ºç»´åŸºç™¾ç§‘æŸ¥è¯¢ç»“æœ -->\n        <div class=\"wiki-search\">\n          <!-- æ˜¾ç¤ºwikiéƒ¨åˆ†çš„title -->\n          <div class=\"weather-header\">\n            <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n              æ™¯ç‚¹wikiç™¾ç§‘ğŸ”\n              <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n                ä¸‹é¢æ˜¯å¯¹â€œ{{ searchPlace }}\"çš„æœç´¢ç»“æœ\n              </span>\n            </p>\n          </div>\n\n          <!-- æ˜¾ç¤ºæœç´¢ç»“æœ -->\n          <div class=\"searchresult\">\n            <div v-for=\"page in WikiPage\" :key=\"page.title\">\n              <div class=\"page-item\">\n                <img v-if=\"page.thumbnail && page.thumbnail.source\" :src=\"page.thumbnail.source\" :alt=\"page.title\" />\n                <div class=\"page-content\">\n                  <a :href=\"page.url\" target=\"_blank\" style=\"color:rgb(221, 110, 132);font-weight: bold;\">{{ page.title\n                  }}</a>\n                  <p style=\"font-size: small;\">{{ page.extract }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <!-- åœ°å›¾å¯¼èˆª -->\n      <div class=\"guide-container info\">\n        <!-- æ˜¾ç¤ºwikiéƒ¨åˆ†çš„title -->\n        <div class=\"weather-header\">\n          <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n            è·¯çº¿è§„åˆ’ğŸš—\n          </p>\n        </div>\n        <div class=\"route-details\">\n          <div style=\"display:inline-block;\">å½“å‰é€‰ä¸­åœ°å€ï¼š{{ clickAddress }}</div>\n          <button @click=\"setStartPlace\" style=\"display:inline-block;margin-left:10px;\">è®¾ç½®ä¸ºèµ·ç‚¹</button>\n          <button @click=\"setEndPlace\" style=\"display:inline-block;margin-left:10px;\">è®¾ç½®ä¸ºç»ˆç‚¹</button>\n          <div style=\"margin-top:8px;\">èµ·ç‚¹ï¼š<span v-if=\"startPlace\">{{ startPlace }}</span>\n            <span v-else>æœªé€‰æ‹©èµ·ç‚¹</span>\n          </div>\n          <div style=\"margin-top:8px;\">ç»ˆç‚¹ï¼š<span v-if=\"endPlace\">{{ endPlace }}</span>\n            <span v-else>æœªé€‰æ‹©ç»ˆç‚¹</span>\n          </div>\n          <div style=\"margin-top:8px;\">\n            <button @click=\"PlanRoute\">å¼€å§‹è§„åˆ’</button>\n            <button @click=\"StopPlanRoute\" style=\"margin-left:10px;\">é‡æ–°è®¾ç½®</button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script  defer=\"true\">\n/* eslint-disable */\nimport {\n  BaiduMap,\n  BmWalking,\n  BmInfoWindow,\n  BmBoundary,\n  BmScale,\n  BmMarker,\n  BmLabel,\n  BmLocalSearch,\n  BmCircle,\n  BmBus\n} from \"vue-baidu-map-3x\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n// import { Configuration, OpenAIApi } from \"openai\"; // æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´åº“çš„å¯¼å…¥è·¯å¾„\nimport OpenAI from \"openai\";\nimport Qs from 'qs';\nimport * as echarts from 'echarts';\n\nexport default {\n  components: {\n    BaiduMap,\n    BmWalking,\n    BmInfoWindow,\n    BmBoundary,\n    BmScale,\n    BmMarker,\n    BmLabel,\n    BmLocalSearch,\n    BmCircle,\n    BmBus,\n    echarts\n  },\n\n  data() {\n    return {\n      center: { lat: 31.23, lng: 121.474 },\n      zoom: 15,\n      //ä¸€äº›æ™¯ç‚¹åæ ‡ç‚¹\n      markers: [\n        {\n          position: { lng: 121.4912, lat: 31.2438 },\n          content: \"å—äº¬ä¸œè·¯\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4811, lat: 31.2346 },\n          content: \"äººæ°‘å¹¿åœº\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5073, lat: 31.2437 },\n          content: \"é™†å®¶å˜´\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2429 },\n          content: \"å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2489 },\n          content: \"å¤–ç™½æ¸¡æ¡¥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4896, lat: 31.2482 },\n          content: \"ä¹æµ¦è·¯æ¡¥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4943, lat: 31.2343 },\n          content: \"è±«å›­\",\n          show: false,\n        },\n        {\n          position: { lng: 121.483, lat: 31.2342 },\n          content: \"ä¸Šæµ·åšç‰©é¦†\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4746, lat: 31.2266 },\n          content: \"æ·®æµ·ä¸­è·¯\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5083, lat: 31.2469 },\n          content: \"ä¸œæ–¹æ˜ç \",\n          show: false,\n        },\n        {\n          position: { lng: 121.4526, lat: 31.2292 },\n          content: \"é™å®‰å¯º\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4449, lat: 31.211 },\n          content: \"æ­¦åº·å¤§æ¥¼\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4455, lat: 31.2102 },\n          content: \"å®‹åº†é¾„æ•…å±…\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4427, lat: 31.2015 },\n          content: \"å¾å®¶æ±‡\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4759, lat: 31.2139 },\n          content: \"ç”°å­åŠ\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4812, lat: 31.2229 },\n          content: \"ä¸­å…±ä¸€å¤§ä¼šå€\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5076, lat: 31.2132 },\n          content: \"å—æµ¦å¤§æ¡¥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4691, lat: 31.2424 },\n          content: \"ä¸Šæµ·è‡ªç„¶åšç‰©é¦†\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"æ€å—å…¬é¦†\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"å››å·åŒ—è·¯\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"æ€å—å…¬é¦†\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4899, lat: 31.2776 },\n          content: \"é²è¿…å…¬å›­\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4908, lat: 31.2581 },\n          content: \"å››å·åŒ—è·¯\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5331, lat: 31.2561 },\n          content: \"æ¨æµ¦æ»¨æ±Ÿ\",\n          show: false,\n        },\n        {\n          position: { lng: 121.49, lat: 31.2711 },\n          content: \"ç”œçˆ±è·¯\",\n          show: false,\n        },\n        {\n          position: { lng: 121.488, lat: 31.2696 },\n          content: \"å¤šä¼¦è·¯æ–‡åŒ–åäººè¡—\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5088, lat: 31.2888 },\n          content: \"åŒæµå¤§å­¦\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"åŒ—å¤–æ»©\",\n          show: false,\n        },\n      ],\n      weatherData: null, //å­˜å‚¨å¤©æ°”æ•°æ®\n      city: \"310000\", //ä¸Šæµ·\n      selectedMarkerIndex: -1, // è®°å½•é€‰ä¸­çš„æ ‡è®°ç´¢å¼•\n      dialogBox: \"ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ä»¥è·å¾—æ™ºèƒ½å°åŠ©æ‰‹å»ºè®®ï½\",\n      WikiPage: [], // æ–°æ·»åŠ çš„ç©ºæ•°ç»„\n      searchPlace: \"ä¸Šæµ·\",\n      briefIntro: \"<p>æš‚æ—¶æ²¡æœ‰å¯¹è¯¥åœ°ç‚¹çš„ç®€ä»‹å“¦ï½</p>\",\n      poem: \"\",\n\n      //ç‚¹å‡»è·å–ç‚¹å‡»åœ°ç‚¹çš„ç»åº¦å’Œçº¬åº¦\n      clickLat: 31.23,\n      clickLng: 121.474,\n      clickAddress: \"ä¸Šæµ·å¸‚æ¨æµ¦åŒºå››å¹³è·¯1239å·\",\n\n      //è®¾ç½®æœç´¢èŒƒå›´\n      nearby: {\n        center: {\n          lng: 121.474,\n          lat: 31.23\n        },\n        radius: 10000\n      },\n      placeKeyword: \"\",\n      startPlace: \"\",\n      startPosition: null,\n\n      endPlace: \"\",\n      endPosition: null,\n\n      planRoute: false,\n      weatherWeek: null,\n      dressAdvice: \"\",\n      holiday: \"\"\n    };\n  },\n  watch: {\n    weatherData(newData) {\n      console.log(newData);\n      // åœ¨è¿™é‡Œæ‰§è¡Œä½ å¸Œæœ›åœ¨ weatherData æ›´æ–°åç«‹å³æ‰§è¡Œçš„é€»è¾‘\n      // console.log(this.weatherData);\n    },\n  },\n  created() {\n    this.getWeatherData();\n    // if(this.weatherData!=null)\n    // this.getWeatherPoem();\n    // this.getWeekWeather();\n    this.getHoliday(10)\n  },\n\n  mounted() {\n    this.mapInstance = this.$refs.map ? this.$refs.map.getMap() : null;\n    // this.getWeatherData();\n    this.searchWiki(\"ä¸Šæµ·\")\n  },\n\n  methods: {\n    //é€šè¿‡ç‚¹å‡»åœ°å›¾ä¸Šçš„ç‚¹è·å¾—è¯¥ç‚¹å…·ä½“çš„åœ°ç‚¹åç§°\n    handleMapClick(event) {\n      const point = new BMap.Point(event.point.lng, event.point.lat);\n      const geoc = new BMap.Geocoder();\n\n      // è°ƒç”¨ç™¾åº¦åœ°å›¾ API çš„é€†åœ°ç†ç¼–ç æ–¹æ³•è·å–åœ°å\n      geoc.getLocation(point, (result) => {\n        if (result) {\n          const address = result.address; // åœ°å\n          const lng = result.point.lng; // ç»åº¦\n          const lat = result.point.lat; // çº¬åº¦\n\n          this.clickLat = lat;\n          this.clickLng = lng;\n          this.clickAddress = address;\n\n          // å¤„ç†è·å–åˆ°çš„åœ°åã€ç»çº¬åº¦æ•°æ®\n          console.log(\"åœ°å:\", address);\n          console.log(\"ç»åº¦:\", lng);\n          console.log(\"çº¬åº¦:\", lat);\n        }\n      });\n    },\n    //æ”¾å¤§åœ°å›¾\n    zoomIn() {\n      this.zoom += 1; // æ”¾å¤§åœ°å›¾ç¼©æ”¾çº§åˆ«\n      // this.$refs.baiduMap.setZoom(this.zoom); // è°ƒç”¨ setZoom æ–¹æ³•æ›´æ–°åœ°å›¾ç¼©æ”¾çº§åˆ«\n    },\n    //ç¼©å°åœ°å›¾\n    zoomOut() {\n      this.zoom -= 1; // ç¼©å°åœ°å›¾ç¼©æ”¾çº§åˆ«\n      // this.$refs.baiduMap.setZoom(this.zoom); // è°ƒç”¨ setZoom æ–¹æ³•æ›´æ–°åœ°å›¾ç¼©æ”¾çº§åˆ«\n    },\n\n    //è®¾ç½®ä¸ºèµ·ç‚¹\n    setStartPlace() {\n      this.startPlace = this.clickAddress\n      this.startPosition = { lat: this.clickLat, lng: this.clickLng }\n    },\n\n    //è®¾ç½®ä¸ºç»ˆç‚¹\n    setEndPlace() {\n      this.endPlace = this.clickAddress\n      this.endPosition = { lat: this.clickLat, lng: this.clickLng }\n\n    },\n    PlanRoute() {\n      if (this.startPlace != \"\" && this.endPlace != \"\")\n        this.planRoute = true\n      else {\n        // å¼¹çª—æé†’ç”¨æˆ·è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹\n        alert(\"è¯·è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹\");\n      }\n    },\n    StopPlanRoute() {\n      this.planRoute = false\n      this.startPlace = \"\"\n      this.endPlace = \"\"\n    },\n\n    //è°ƒç”¨å¤©æ°”apiï¼Œå·²ç»å¯ä»¥è°ƒå–æˆåŠŸ\n    getWeatherData() {\n      const key = \"\t3f6157ccb2e4ec191a030932e211ffaa\"; // å°† `your key` æ›¿æ¢æˆä½ çš„é«˜å¾·å¼€å‘è€…key\n      const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=${key}&city=${this.city}`;\n      console.log(\"è·å–å¤©æ°”\");\n      axios\n        .get(url)\n        .then((response) => {\n          if (response.status === 200) {\n            this.weatherData = response.data;\n            console.log(response.data);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n\n    //è°ƒç”¨å¤©æ°”è¯—å¥api\n    getWeatherPoem() {\n\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/tianqishiju/index',\n        data: Qs.stringify({ key: '1e12d5d1fb06599d02ef546b73e2c360', tqtype: 2 }),\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\n      }).then(res => {\n        // this.tianapi_data = res.data\n        console.log(res.data)\n        this.poem = res.data.result\n      }\n      )\n    },\n\n    //å¾—åˆ°ä¸€å‘¨çš„å¤©æ°”\n    getWeekWeather() {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/tianqi/index',\n        data: Qs.stringify({ key: '1e12d5d1fb06599d02ef546b73e2c360', city: '101020100', type: '7' }),\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\n      }).then(res => {\n        this.dressAdvice = res.data.result.list[0].tips\n        this.weatherWeek = res.data.result.list.map(item => ({\n          week: item.week,\n          date: item.date,\n          lowest: parseFloat(item.lowest),\n          highest: parseFloat(item.highest),\n          weather: item.weather,\n          sunrise: item.sunrise,\n          sunset: item.sunset,\n        }));\n        console.log(this.weatherWeek)\n        setTimeout(() => {\n          this.drawChart();\n        }, 200);\n      });\n    },\n    drawChart() {\n      const highestArr = this.weatherWeek.map(item => item.highest);\n      const lowestArr = this.weatherWeek.map(item => item.lowest);\n      const sunriseArr = this.weatherWeek.map(item => item.sunrise);\n      const sunsetArr = this.weatherWeek.map(item => item.sunset);\n      const weatherArr = this.weatherWeek.map(item => item.weather);\n      const weekArr = this.weatherWeek.map(item => item.week);\n\n      const chartDom = this.$refs.weatherChart;\n      const myChart = echarts.init(chartDom);\n\n      var option;\n      option = {\n        title: {\n          text: 'ä¸€å‘¨å¤©æ°”é¢„æŠ¥â˜ï¸',\n          textStyle: {\n            color: '#fff',\n          },\n        },\n        tooltip: {\n          trigger: 'axis',\n          textStyle: {\n            color: 'black',\n          },\n          formatter: function (params) {\n            var tooltipContent = '';\n            var dataIndex = params[0].dataIndex;\n\n            tooltipContent += 'æ—¥æœŸï¼š' + weekArr[dataIndex] + '<br>';\n            tooltipContent += 'æœ€é«˜æ°”æ¸©ï¼š' + highestArr[dataIndex] + 'â„ƒ<br>';\n            tooltipContent += 'æœ€ä½æ°”æ¸©ï¼š' + lowestArr[dataIndex] + 'â„ƒ<br>';\n            tooltipContent += 'æ—¥å‡ºæ—¶é—´ï¼š' + sunriseArr[dataIndex] + '<br>';\n            tooltipContent += 'æ—¥è½æ—¶é—´ï¼š' + sunsetArr[dataIndex] + '<br>';\n            tooltipContent += 'å¤©æ°”çŠ¶å†µï¼š' + weatherArr[dataIndex] + '<br>';\n\n            return tooltipContent;\n          }\n        },\n        legend: {\n          data: ['highest-temperature', 'lowest-temperature'],\n          textStyle: {\n            color: '#fff',\n          },\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true,\n        },\n        toolbox: {\n          feature: {\n            saveAsImage: {},\n          },\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: weekArr,\n          axisLabel: {\n            textStyle: {\n              color: '#fff',\n            },\n          },\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            textStyle: {\n              color: '#fff',\n            },\n          },\n        },\n        series: [\n          {\n            name: 'highest-temperature',\n            type: 'line',\n            data: highestArr,\n            markPoint: {\n              data: [\n                { type: 'max', name: 'Max' },\n                { type: 'min', name: 'Min' }],\n              label: {\n                show: true,\n                color: '#fff',\n                fontSize: 12,\n              }\n            },\n            markLine: {\n              data: [{ type: 'average', name: 'Avg' }]\n            },\n            lineStyle: {\n              color: '#ef8183', // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n              width: 4 // è®¾ç½®æŠ˜çº¿çº¿å®½ä¸º3\n            },\n            itemStyle: {\n              color: '#ef8183' // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n            }\n          },\n          {\n            name: 'lowest-temperature',\n            type: 'line',\n            data: lowestArr,\n            markPoint: {\n              data: [\n                { type: 'max', name: 'Max' },\n                { type: 'min', name: 'Min' }\n              ],\n              label: {\n                show: true,\n                color: '#fff',\n                fontSize: 12,\n              }\n            },\n            markLine: {\n              data: [{ type: 'average', name: 'Avg' }]\n            },\n            lineStyle: {\n              color: '#699ed4', // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n              width: 4 // è®¾ç½®æŠ˜çº¿çº¿å®½ä¸º3\n            },\n            itemStyle: {\n              color: '#699ed4' // è®¾ç½®æŠ˜çº¿é¢œè‰²ä¸ºçº¢è‰²\n            }\n          },\n          {\n            name: 'weather',\n            type: 'scatter',\n            data: weatherArr,\n            symbolSize: 10,\n            itemStyle: {\n              color: '#fff',\n            },\n            tooltip: {\n              formatter: function (params) {\n                return 'å¤©æ°”çŠ¶å†µï¼š' + params.value;\n              }\n            }\n          }\n        ],\n      };\n\n      myChart.setOption(option);\n    },\n\n    //è°ƒç”¨Wikiç™¾ç§‘API\n    async searchWiki(keyword) {\n      try {\n        const response = await axios.get(\"https://zh.wikipedia.org/w/api.php\", {\n          params: {\n            format: \"json\",\n            action: \"query\",\n            generator: \"search\",\n            gsrnamespace: 0,\n            gsrlimit: 5,\n            prop: \"pageimages|extracts\",\n            pilimit: \"max\",\n            exintro: true,\n            explaintext: true,\n            exsentences: 1,\n            exlimit: \"max\",\n            origin: \"*\",\n            gsrsearch: keyword,\n          },\n        });\n        const pages = response.data.query.pages;\n        const wikiPages = [];\n        for (let pageId in pages) {\n          const page = pages[pageId];\n          const wikiPage = {\n            title: page.title,\n            thumbnail: page.thumbnail,\n            extract: page.extract,\n            url: \"\"\n          };\n          // å°†titleæ‹¼æ¥æˆè®¿é—®ä¸­æ–‡ç»´åŸºç™¾ç§‘çš„é“¾æ¥\n          wikiPage.url = \"http://zh.wikipedia.org/wiki/\" + encodeURIComponent(page.title);\n          wikiPages.push(wikiPage);\n        }\n        this.WikiPage = wikiPages;\n        console.log(this.WikiPage);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    },\n    //å¾—åˆ°æ™¯ç‚¹ä»‹ç»\n    getBriefIntro(place) {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/scenic/index',\n        data: Qs.stringify({ key: '1e12d5d1fb06599d02ef546b73e2c360', word: place }),\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      }).then((res) => {\n        if (res.data.code == 200)\n          this.briefIntro = res.data.result.list[0].content;\n        else {\n          this.briefIntro = \"<p>æš‚æ—¶æ²¡æœ‰å¯¹è¯¥åœ°ç‚¹çš„ç®€ä»‹å“¦ï½</p>\"\n        }\n        console.log(res.data)\n        console.log(res)\n      });\n    },\n    //è°ƒç”¨æŸ¥è¯¢èŠ‚å‡æ—¥çš„æ¥å£ï¼Œå¾—åˆ°è¿™ä¸ªæœˆçš„èŠ‚å‡æ—¥\n    getHoliday(month) {\n      var Date = '2023-' + month;\n      console.log(Date);\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/jiejiari/index',\n        data: Qs.stringify({ key: '1e12d5d1fb06599d02ef546b73e2c360', date: Date, type: 2 }),\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\n      }).then(res => {\n        // this.tianapi_data = res.data;\n        // console.log(res.data.result.list);\n        // æå–isnotworkä¸º1çš„é¡¹å¹¶å­˜å‚¨åˆ°dataçš„holidayå˜é‡ä¸­\n        this.holiday = res.data.result.list.filter(item => item.isnotwork === 1);\n        console.log(this.holiday)\n      });\n    },\n\n\n    handleMarkerClick(marker, index) {\n      // const details = marker.name; // å‡è®¾æ ‡è®°å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§ name å­˜å‚¨åœ°ç‚¹åç§°\n      console.log(\"ç‚¹å‡»äº†\" + index);\n      const details = this.markers[index].content;\n      console.log(details);\n      this.searchPlace = details;\n      //è°ƒç”¨Wikiçš„æ¥å£\n      var href = this.searchWiki(details);\n      //è°ƒç”¨æ™¯ç‚¹ä»‹ç»çš„æ¥å£\n      this.getBriefIntro(details)\n      //è°ƒç”¨GPTæ¥å£\n      // this.initGPT3(details);\n    },\n\n    //ç‚¹å‡»ç©¿è¡£æŒ‰é’®ä¹‹åè·å–ç©¿è¡£å»ºè®®\n    getDressAdvice() {\n      const details =\n        \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" +\n        \"æ¹¿åº¦ï¼š\" +\n        this.weatherData.lives[0].humidity +\n        \"ï¼Œæ¸©åº¦ï¼š\" +\n        this.weatherData.lives[0].temperature +\n        \"ï¼Œå¤©æ°”ï¼š\" +\n        this.weatherData.lives[0].weather +\n        \"ï¼Œé£åŠ›ï¼š\" +\n        this.weatherData.lives[0].windpower +\n        \"ï¼Œè¯·é—®å¯ä»¥ç»™å‡ºç©¿è¡£å»ºè®®å—ï¼Ÿå¯ä»¥æŠŠä¸‹é¢è¿™æ®µè¯æ‰©å†™ä¸€ä¸‹å˜å¾—æ›´åŠ æ´»æ³¼ä¿çš®ï¼š\" + this.dressAdvice + \",ç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ç›´æ¥ç”Ÿæˆä¸€æ®µè¯ï¼Œ50åˆ°80å­—å·¦å³ï¼Œä¸è¦åˆ—å‡ºä¸€ç‚¹ä¸€ç‚¹çš„ï¼Œä¹Ÿä¸è¦å¤ªé•¿ï¼‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //ç‚¹å‡»å‡ºè¡ŒæŒ‰é’®ä¹‹åè·å–å‡ºè¡Œå»ºè®®\n    getTravelAdvice() {\n      const details =\n        \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" +\n        \"æ¹¿åº¦ï¼š\" +\n        this.weatherData.lives[0].humidity +\n        \"ï¼Œæ¸©åº¦ï¼š\" +\n        this.weatherData.lives[0].temperature +\n        \"ï¼Œå¤©æ°”ï¼š\" +\n        this.weatherData.lives[0].weather +\n        \"ï¼Œé£åŠ›ï¼š\" +\n        this.weatherData.lives[0].windpower +\n        \"ï¼Œè¯·é—®å¯ä»¥ç»™å‡ºå‡ºè¡Œå»ºè®®å—ï¼Ÿå°±æ ¹æ®æˆ‘ç»™ä½ çš„ä¸Šæµ·ç›®å‰çš„å¤©æ°”ä¿¡æ¯ç»™å‡ºï¼Œæ¯”å¦‚è¯´å¦‚æœä»Šå¤©ä¸‹é›¨å°±å»ºè®®æ‰“è½¦æˆ–è€…åœ°é“ï¼Œå¦‚æœä»Šå¤©å¤©æ™´å°±å»ºè®®éª‘è‡ªè¡Œè½¦æˆ–è€…èµ°è·¯ï¼Œå¦‚æœé£å¤§å°±å°½é‡ä¸è¦éª‘è½¦ç­‰ç­‰ã€‚ï¼ˆç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ç›´æ¥ç”Ÿæˆä¸€æ®µè¯ï¼Œ50åˆ°80å­—å·¦å³ï¼Œä¸è¦åˆ—å‡ºä¸€ç‚¹ä¸€ç‚¹çš„ï¼Œä¹Ÿä¸è¦å¤ªé•¿ï¼‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //ç‚¹å‡»å¤©æ°”æ¦‚è¿°æŒ‰é’®ä¹‹åè·å–å¤©æ°”æ¦‚è¿°\n    getWeatherSummary() {\n      const details =\n        \"å·²çŸ¥ä»Šå¤©ä¸Šæµ·çš„å¤©æ°”æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\" +\n        \"æ¹¿åº¦ï¼š\" +\n        this.weatherData.lives[0].humidity +\n        \"ï¼Œæ¸©åº¦ï¼š\" +\n        this.weatherData.lives[0].temperature +\n        \"ï¼Œå¤©æ°”ï¼š\" +\n        this.weatherData.lives[0].weather +\n        \"ï¼Œé£åŠ›ï¼š\" +\n        this.weatherData.lives[0].windpower +\n        \"ï¼Œè¯·ä½ ç”¨å¯çˆ±ä¿çš®çš„è¯­å¥ï¼ŒåŒæ—¶å†™ä¸€é¦–å”è¯—æ¥æè¿°ä»Šå¤©çš„å¤©æ°”ï¼Œè¿™é¦–è¯—éœ€è¦åŒ…å«ä»Šå¤©çš„å¤©æ°”ç‰¹ç‚¹ä»¥åŠäººä»¬çš„æ´»åŠ¨ï¼Œæ™¯è‰²ç­‰ç­‰\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    showResponse() {\n      // å°†å›å¤æ˜¾ç¤ºåœ¨å¯¹è¯æ¡†ä¸­\n      this.dialogBox = \"æ­£åœ¨ç”Ÿæˆä¸­......\";\n    },\n\n    async initGPT3(details, choice) {\n      const API_KEY = \"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\"; //è¾“å…¥API Key\n      const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true,\n      });\n      console.log(\"æ­£åœ¨ç”Ÿæˆä»‹ç»\" + details + \"çš„ä¿¡æ¯\");\n      const chatCompletion = await openai.chat.completions.create({\n        messages: [\n          {\n            role: \"user\",\n            content: `ä½ å¥½ï¼Œ${details}`,\n          },\n        ],\n        model: \"gpt-3.5-turbo\",\n      });\n      console.log(chatCompletion);\n      console.log(chatCompletion.choices[0].message.content);\n      // è¯´æ˜æ­¤æ—¶æ˜¯åœ¨ç”Ÿæˆæ™ºèƒ½å‡ºè¡Œå°åŠ©æ‰‹\n      if (choice == 1) {\n        //æ˜¾ç¤ºåœ¨æ¶ˆæ¯æ¡†å†…\n        this.dialogBox = chatCompletion.choices[0].message.content;\n      }\n      else {\n\n      }\n    },\n\n  }\n};\n</script>\n\n<style>\n.map-weather-container {\n  /* display: grid; */\n  /* grid-template-columns: 1fr 1fr; */\n  /* å°†å±å¹•åˆ†ä¸ºä¸¤åˆ— */\n  width: 100%;\n}\n\n.map {\n  /* position: relative; */\n  /* grid-column: 1 / 2; */\n  /* å°†mapå®¹å™¨æ”¾åœ¨ç¬¬ä¸€åˆ— */\n  display: flex;\n  width: 100%;\n  height: 950px;\n}\n\n.zoom-controls {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n}\n\n.info {\n  /* grid-column: 2 / 3; */\n  position: absolute;\n  right: 4px;\n  width: 750px;\n  overflow: auto;\n  max-height: 950px;\n  /* è®¾ç½®æœ€å¤§é«˜åº¦ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´ */\n}\n\n.weather-container {\n  /* position: absolute; */\n  /* display: flex; */\n  /* å°†weather-containerå®¹å™¨æ”¾åœ¨ç¬¬äºŒåˆ— */\n  width: 96%;\n  height: 783px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #04131b9e;\n  /* è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºæµ…è“è‰² */\n  border-radius: 10px;\n  /* è®¾ç½®åœ†è§’è¾¹æ¡†åŠå¾„ä¸º10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.233);\n  /* è®¾ç½®é˜´å½±æ•ˆæœ */\n  /* æ·»åŠ å…¶ä»–æ ·å¼ */\n  color: #fff;\n}\n\n.weather-header {\n  margin-left: 28px;\n  margin-right: 28px;\n}\n\n.weather-details {\n  grid-column: 1 / 2;\n  /* å°†detailså®¹å™¨æ”¾åœ¨ç¬¬ä¸€åˆ— */\n  margin-left: 28px;\n}\n\n.weather-details-container {\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  /* å°†å±å¹•åˆ†ä¸ºå››ä»½ï¼Œç¬¬ä¸€åˆ—å æ®ä¸€ä¸ªä»½é¢ï¼Œç¬¬äºŒåˆ—å æ®ä¸‰ä¸ªä»½é¢ */\n}\n\n.weather-dialog-box {\n  width: 94%;\n  height: 110px;\n  margin-top: 10px;\n  background-color: whitesmoke;\n  border-radius: 6px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* è®¾ç½®é˜´å½±æ•ˆæœ */\n  padding: 10px;\n  overflow: auto;\n  max-height: 100px;\n  /* è®¾ç½®æœ€å¤§é«˜åº¦ï¼Œè¶…è¿‡è¯¥é«˜åº¦å°†æ˜¾ç¤ºæ»šåŠ¨æ¡ */\n}\n\n.dialog-content {\n  white-space: pre-wrap;\n  color: rgb(34, 33, 33);\n  /* å¤„ç†æ¢è¡Œç¬¦ç­‰ç©ºç™½å­—ç¬¦ */\n}\n\n.wiki-search {\n  width: 96%;\n  height: 360px;\n  margin-top: 20px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #04131b9e;\n  /* è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºæµ…è“è‰² */\n  border-radius: 10px;\n  /* è®¾ç½®åœ†è§’è¾¹æ¡†åŠå¾„ä¸º10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.233);\n  /* è®¾ç½®é˜´å½±æ•ˆæœ */\n  /* æ·»åŠ å…¶ä»–æ ·å¼ */\n  color: #fff;\n\n}\n\n.searchresult {\n  max-height: 300px;\n  /* è®¾ç½®æœ€å¤§é«˜åº¦ */\n  overflow: auto;\n  /* å½“å†…å®¹è¶…å‡ºé«˜åº¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */\n  margin: 0px 20px 0px 20px;\n}\n\n.page-item {\n  display: flex;\n  margin-top: 10px;\n}\n\n.page-item img {\n  width: 100px;\n  height: 100px;\n  margin-right: 10px;\n}\n\n.page-content {\n  flex: 1;\n}\n\n.showAddress {\n  background-color: #fff;\n  position: absolute;\n  top: 50px;\n  left: 10px;\n  z-index: 9999;\n  /* height:100px; */\n  /* width: 400px; */\n}\n\n.guide-container {\n  width: 400px;\n  height: 260px;\n  margin-top: 20px;\n  top: 550px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #04131b9e;\n  /* è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºæµ…è“è‰² */\n  border-radius: 10px;\n  /* è®¾ç½®åœ†è§’è¾¹æ¡†åŠå¾„ä¸º10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.233);\n  /* è®¾ç½®é˜´å½±æ•ˆæœ */\n  /* æ·»åŠ å…¶ä»–æ ·å¼ */\n  color: #fff;\n}\n\n.route-details {\n  margin-left: 20px;\n}\n\n.brief-introduction {\n  width: 96%;\n  height: 283px;\n  margin-top: 20px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #04131b9e;\n  /* è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºæµ…è“è‰² */\n  border-radius: 10px;\n  /* è®¾ç½®åœ†è§’è¾¹æ¡†åŠå¾„ä¸º10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.233);\n  /* è®¾ç½®é˜´å½±æ•ˆæœ */\n  /* æ·»åŠ å…¶ä»–æ ·å¼ */\n  color: #fff;\n}\n\n.briefintro-searchresult {\n  max-height: 200px;\n  /* è®¾ç½®æœ€å¤§é«˜åº¦ */\n  overflow: auto;\n  /* å½“å†…å®¹è¶…å‡ºé«˜åº¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */\n  margin: 0px 20px 0px 20px;\n\n}\n\n.poem {\n  margin-left: 23px;\n  font-weight: bold;\n  color: rgb(199, 229, 88);\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}