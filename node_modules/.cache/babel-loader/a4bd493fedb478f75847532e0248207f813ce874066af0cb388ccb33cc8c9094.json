{"ast":null,"code":"import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"mapContainer\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"panel\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"请在右侧示例代码第10行填入您的key，并执行查看运行结果（key可在控制台应用管理中自行创建）\"), /*#__PURE__*/_createElementVNode(\"h4\", null, \"驾车路线规划\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"instruction\"\n})], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _hoisted_2], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","id","_hoisted_1","_hoisted_2"],"sources":["/Users/mac/Desktop/作业/微服务架构/your-project-name/src/components/map.vue"],"sourcesContent":["<template>\n    <div id=\"mapContainer\"></div>\n    <div id=\"panel\">\n        <p>请在右侧示例代码第10行填入您的key，并执行查看运行结果（key可在控制台应用管理中自行创建）</p>\n        <h4>驾车路线规划</h4>\n        <div id=\"instruction\"></div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'MapContainer',\n  props: {\n    msg: String\n  }\n}\nvar map;\n    function initMap() {\n        //初始化地图\n        map = new TMap.Map('mapContainer', {\n            center: new TMap.LatLng(31.242497, 121.488892),\n            zoom: 14,\n        });\n        var lat = 31.242497\n        var lng = 121.488892\n        //绑定点击事件，获取纬度和经度\n        map.on(\"click\", function (evt) {\n            //获取纬度\n            lat = evt.latLng.getLat().toFixed(6);\n            //获取经度\n            lng = evt.latLng.getLng().toFixed(6);\n            // position.innerHTML = lat + \",\" + lng;\n\n        })\n        console.log(lat)\n        console.log(lng)\n        var startPosition = new TMap.LatLng(lat, lng); // 路线规划起点\n        var endPosition = new TMap.LatLng(31.296605, 121.506377); // 路线规划终点\n        var marker = new TMap.MultiMarker({\n            // 创造MultiMarker显示起终点标记\n            id: 'marker-layer',\n            map: map,\n            styles: {\n                start: new TMap.MarkerStyle({\n                    width: 25,\n                    height: 35,\n                    anchor: { x: 16, y: 32 },\n                    src: 'https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/start.png',\n                }),\n                end: new TMap.MarkerStyle({\n                    width: 25,\n                    height: 35,\n                    anchor: { x: 16, y: 32 },\n                    src: 'https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/end.png',\n                }),\n            },\n            geometries: [\n                {\n                    id: 'start',\n                    styleId: 'start',\n                    position: startPosition,\n                },\n                {\n                    id: 'end',\n                    styleId: 'end',\n                    position: endPosition,\n                },\n            ],\n        });\n\n        var driving = new TMap.service.Driving({\n            // 新建一个驾车路线规划类\n            mp: false, // 是否返回多方案\n            policy: 'PICKUP,NAV_POINT_FIRST', // 规划策略\n        });\n        driving.search({ from: startPosition, to: endPosition }).then((result) => {\n            // 搜索路径\n            result.result.routes[0].steps.forEach((step, index) => {\n                document.getElementById('instruction').innerHTML += `<p>${index + 1}. ${step.instruction\n                    }</p>`;\n                // 展示路线引导\n            });\n            displayPolyline(result.result.routes[0].polyline); // 绘制路径折线\n        });\n\n    }\n\n    function displayPolyline(pl) {\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n    html,\n    body {\n        height: 100%;\n        margin: 0px;\n        padding: 0px;\n    }\n\n    #mapContainer {\n        width: 100%;\n        height: 100%;\n    }\n\n    #panel {\n        position: absolute;\n        background: #FFF;\n        width: 350px;\n        padding: 20px;\n        z-index: 9999;\n        top: 30px;\n        left: 30px;\n    }\n</style>\n"],"mappings":";gCACIA,mBAAA,CAA6B;EAAxBC,EAAE,EAAC;AAAc;gCACtBD,mBAAA,CAIM;EAJDC,EAAE,EAAC;AAAO,I,aACXD,mBAAA,CAAuD,WAApD,kDAAgD,G,aACnDA,mBAAA,CAAe,YAAX,QAAM,G,aACVA,mBAAA,CAA4B;EAAvBC,EAAE,EAAC;AAAa,G;;;6DAJzBC,UAA6B,EAC7BC,UAIM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}