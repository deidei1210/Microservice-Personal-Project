{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"map-weather-container\"\n};\nconst _hoisted_2 = {\n  class: \"map\"\n};\nconst _hoisted_3 = {\n  class: \"zoom-controls\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"weather-container\"\n};\nconst _hoisted_5 = {\n  class: \"weather-header\"\n};\nconst _hoisted_6 = {\n  style: {\n    \"font-size\": \"24px\",\n    \"font-weight\": \"bold\",\n    \"border-bottom\": \"1px solid #ccc\"\n  }\n};\nconst _hoisted_7 = {\n  style: {\n    \"color\": \"#aaa\",\n    \"font-size\": \"16px\",\n    \"font-weight\": \"normal\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"weather-details-container\"\n};\nconst _hoisted_9 = {\n  class: \"weather-details\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"font-size\": \"18px\",\n    \"font-weight\": \"bold\"\n  }\n}, \"Âá∫Ë°åÊô∫ËÉΩÂ∞èÂä©Êâã\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"weather-dialog-box\"\n}, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_bm_label = _resolveComponent(\"bm-label\");\n  const _component_bm_marker = _resolveComponent(\"bm-marker\");\n  const _component_baidu_map = _resolveComponent(\"baidu-map\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Áî®‰∫éÊòæÁ§∫Âú∞Âõæ \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_baidu_map, {\n    class: \"map\",\n    center: {\n      lng: 121.474,\n      lat: 31.23\n    },\n    zoom: $data.zoom,\n    onClick: $options.handleMapClick\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" ÁªôÁâπÊÆäÂú∞ÁÇπÂä†‰∏ä‰∏Ä‰∫õÊ†áÊ≥®ÂíåËØ¥Êòé \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.markers, (marker, index) => {\n      return _openBlock(), _createBlock(_component_bm_marker, {\n        key: index,\n        position: marker.position,\n        dragging: false,\n        onClick: $event => $options.handleMarkerClick(marker, index)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_bm_label, {\n          content: marker.content,\n          labelStyle: {\n            color: 'red',\n            fontSize: '15px'\n          },\n          offset: {\n            width: -35,\n            height: 30\n          }\n        }, null, 8 /* PROPS */, [\"content\"])]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"position\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.zoomIn && $options.zoomIn(...args))\n    }, \"ÊîæÂ§ß\"), _createElementVNode(\"button\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $options.zoomOut && $options.zoomOut(...args))\n    }, \"Áº©Â∞è\")])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"zoom\", \"onClick\"])]), _createCommentVNode(\" Áî®‰∫éÊòæÁ§∫Â§©Ê∞î \"), $data.weatherData ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" ÊòæÁ§∫Â§©Ê∞îÈÉ®ÂàÜÁöÑtitle \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", _hoisted_6, [_createTextVNode(_toDisplayString($data.weatherData.lives[0].city) + \"ÂÆûÊó∂Â§©Ê∞î \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($data.weatherData.lives[0].reporttime), 1 /* TEXT */)])]), _createCommentVNode(\" Â§©Ê∞îÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ+Âá∫Ë°åÂª∫ËÆÆ \"), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" ÊòæÁ§∫Â§©Ê∞îÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", null, \"Ê∏©Â∫¶üå°Ô∏èÔºö\" + _toDisplayString($data.weatherData.lives[0].temperature) + \"¬∞C\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"Â§©Ê∞î‚òÅÔ∏èÔºö\" + _toDisplayString($data.weatherData.lives[0].weather), 1 /* TEXT */), _createElementVNode(\"p\", null, \"ÊπøÂ∫¶üíßÔºö\" + _toDisplayString($data.weatherData.lives[0].humidity) + \"%\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"È£éÂêëüå¨Ôºö\" + _toDisplayString($data.weatherData.lives[0].winddirection) + \"È£é\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"È£éÂäõüí®Ôºö\" + _toDisplayString($data.weatherData.lives[0].windpower) + \"Á∫ß\", 1 /* TEXT */)]), _createCommentVNode(\" ÊòæÁ§∫ÂÖ∑‰ΩìÁöÑÂá∫Ë°åÂª∫ËÆÆ \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" title \"), _hoisted_10, _hoisted_11, _createCommentVNode(\" Ê∑ªÂä†ÊåâÈíÆ \"), _createElementVNode(\"button\", {\n    id: \"dress-advice-btn\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.getDressAdvice && _ctx.getDressAdvice(...args))\n  }, \"Á©øË°£Âª∫ËÆÆ\"), _createElementVNode(\"button\", {\n    id: \"travel-advice-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => _ctx.getTravelAdvice && _ctx.getTravelAdvice(...args))\n  }, \"Âá∫Ë°åÂª∫ËÆÆ\"), _createElementVNode(\"button\", {\n    id: \"weather-summary-btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => _ctx.getWeatherSummary && _ctx.getWeatherSummary(...args))\n  }, \"Â§©Ê∞îÊ¶ÇËø∞\"), _createCommentVNode(\" ÂØπËØùÊ°Ü \")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","_createVNode","_component_baidu_map","center","lng","lat","zoom","$data","onClick","$options","handleMapClick","_Fragment","_renderList","markers","marker","index","_createBlock","_component_bm_marker","key","position","dragging","$event","handleMarkerClick","_component_bm_label","content","labelStyle","color","fontSize","offset","width","height","_hoisted_3","_cache","args","zoomIn","zoomOut","weatherData","_hoisted_4","_hoisted_5","_hoisted_6","lives","city","_hoisted_7","_toDisplayString","reporttime","_hoisted_8","_hoisted_9","temperature","weather","humidity","winddirection","windpower","_hoisted_10","_hoisted_11","id","_ctx","getDressAdvice","getTravelAdvice","getWeatherSummary"],"sources":["/Users/mac/Desktop/‰Ωú‰∏ö/ÂæÆÊúçÂä°Êû∂ÊûÑ/Microservice-Personal-Project/src/components/map.vue"],"sourcesContent":["<template>\n  <div class=\"map-weather-container\">\n    <!-- Áî®‰∫éÊòæÁ§∫Âú∞Âõæ -->\n    <div class=\"map\">\n      <baidu-map class=\"map\" :center=\"{ lng: 121.474, lat: 31.23 }\" :zoom=\"zoom\" @click=\"handleMapClick\">\n        <!-- ÁªôÁâπÊÆäÂú∞ÁÇπÂä†‰∏ä‰∏Ä‰∫õÊ†áÊ≥®ÂíåËØ¥Êòé -->\n        <bm-marker v-for=\"(marker, index) in markers\" :key=\"index\" :position=\"marker.position\" :dragging=\"false\"\n          @click=\"handleMarkerClick(marker, index)\">\n          <bm-label :content=\"marker.content\" :labelStyle=\"{ color: 'red', fontSize: '15px' }\"\n            :offset=\"{ width: -35, height: 30 }\"></bm-label>\n        </bm-marker>\n\n        <div class=\"zoom-controls\">\n          <button @click=\"zoomIn\">ÊîæÂ§ß</button>\n          <button @click=\"zoomOut\">Áº©Â∞è</button>\n        </div>\n      </baidu-map>\n    </div>\n\n    <!-- Áî®‰∫éÊòæÁ§∫Â§©Ê∞î -->\n    <div class=\"weather-container\" v-if=\"weatherData\">\n      <!-- ÊòæÁ§∫Â§©Ê∞îÈÉ®ÂàÜÁöÑtitle -->\n      <div class=\"weather-header\">\n        <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n          {{ weatherData.lives[0].city }}ÂÆûÊó∂Â§©Ê∞î\n          <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n            {{ weatherData.lives[0].reporttime }}\n          </span>\n        </p>\n      </div>\n      <!-- Â§©Ê∞îÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ+Âá∫Ë°åÂª∫ËÆÆ -->\n      <div class=\"weather-details-container\">\n        <!-- ÊòæÁ§∫Â§©Ê∞îÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ -->\n        <div class=\"weather-details\">\n          <p>Ê∏©Â∫¶üå°Ô∏èÔºö{{ weatherData.lives[0].temperature }}¬∞C</p>\n          <p>Â§©Ê∞î‚òÅÔ∏èÔºö{{ weatherData.lives[0].weather }}</p>\n          <p>ÊπøÂ∫¶üíßÔºö{{ weatherData.lives[0].humidity }}%</p>\n          <p>È£éÂêëüå¨Ôºö{{ weatherData.lives[0].winddirection }}È£é</p>\n          <p>È£éÂäõüí®Ôºö{{ weatherData.lives[0].windpower }}Á∫ß</p>\n        </div>\n        <!-- ÊòæÁ§∫ÂÖ∑‰ΩìÁöÑÂá∫Ë°åÂª∫ËÆÆ -->\n        <div>\n          <!-- title -->\n          <div style=\"font-size: 18px; font-weight: bold;\">Âá∫Ë°åÊô∫ËÉΩÂ∞èÂä©Êâã</div>\n          <div class=\"weather-dialog-box\"></div>\n          <!-- Ê∑ªÂä†ÊåâÈíÆ -->\n          <button id=\"dress-advice-btn\" @click=\"getDressAdvice\">Á©øË°£Âª∫ËÆÆ</button>\n          <button id=\"travel-advice-btn\" @click=\"getTravelAdvice\">Âá∫Ë°åÂª∫ËÆÆ</button>\n          <button id=\"weather-summary-btn\" @click=\"getWeatherSummary\">Â§©Ê∞îÊ¶ÇËø∞</button>\n          <!-- ÂØπËØùÊ°Ü -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport {\n  BaiduMap,\n  BmWalking,\n  BmInfoWindow,\n  BmBoundary,\n  BmScale,\n  BmMarker,\n  BmLabel,\n} from \"vue-baidu-map-3x\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n// import { Configuration, OpenAIApi } from \"openai\"; // Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Â∫ìÁöÑÂØºÂÖ•Ë∑ØÂæÑ\nimport OpenAI from \"openai\";\nexport default {\n  components: {\n    BaiduMap,\n    BmWalking,\n    BmInfoWindow,\n    BmBoundary,\n    BmScale,\n    BmMarker,\n    BmLabel,\n  },\n\n  data() {\n    return {\n      center: { lat: 39.9, lng: 116.4 },\n      zoom: 15,\n      //‰∏Ä‰∫õÊôØÁÇπÂùêÊ†áÁÇπ\n      markers: [\n        {\n          position: { lng: 121.4912, lat: 31.2438 },\n          content: \"Âçó‰∫¨‰∏úË∑Ø\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4811, lat: 31.2346 },\n          content: \"‰∫∫Ê∞ëÂπøÂú∫\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5073, lat: 31.2437 },\n          content: \"ÈôÜÂÆ∂Âò¥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2429 },\n          content: \"Â§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2489 },\n          content: \"Â§ñÁôΩÊ∏°Ê°•\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4896, lat: 31.2482 },\n          content: \"‰πçÊµ¶Ë∑ØÊ°•\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4943, lat: 31.2343 },\n          content: \"Ë±´Âõ≠\",\n          show: false,\n        },\n        {\n          position: { lng: 121.483, lat: 31.2342 },\n          content: \"‰∏äÊµ∑ÂçöÁâ©È¶Ü\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4746, lat: 31.2266 },\n          content: \"Ê∑ÆÊµ∑‰∏≠Ë∑Ø\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5083, lat: 31.2469 },\n          content: \"‰∏úÊñπÊòéÁè†\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4526, lat: 31.2292 },\n          content: \"ÈùôÂÆâÂØ∫\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4449, lat: 31.211 },\n          content: \"Ê≠¶Â∫∑Â§ßÊ•º\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4455, lat: 31.2102 },\n          content: \"ÂÆãÂ∫ÜÈæÑÊïÖÂ±Ö\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4427, lat: 31.2015 },\n          content: \"ÂæêÂÆ∂Ê±á\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4759, lat: 31.2139 },\n          content: \"Áî∞Â≠êÂùä\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4812, lat: 31.2229 },\n          content: \"‰∏≠ÂÖ±‰∏ÄÂ§ß‰ºöÂùÄ\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5076, lat: 31.2132 },\n          content: \"ÂçóÊµ¶Â§ßÊ°•\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4691, lat: 31.2424 },\n          content: \"‰∏äÊµ∑Ëá™ÁÑ∂ÂçöÁâ©È¶Ü\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"ÊÄùÂçóÂÖ¨È¶Ü\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"ÂõõÂ∑ùÂåóË∑Ø\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"ÊÄùÂçóÂÖ¨È¶Ü\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4899, lat: 31.2776 },\n          content: \"È≤ÅËøÖÂÖ¨Âõ≠\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4908, lat: 31.2581 },\n          content: \"ÂõõÂ∑ùÂåóË∑Ø\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5331, lat: 31.2561 },\n          content: \"Êù®Êµ¶Êª®Ê±ü\",\n          show: false,\n        },\n        {\n          position: { lng: 121.49, lat: 31.2711 },\n          content: \"ÁîúÁà±Ë∑Ø\",\n          show: false,\n        },\n        {\n          position: { lng: 121.488, lat: 31.2696 },\n          content: \"Â§ö‰º¶Ë∑ØÊñáÂåñÂêç‰∫∫Ë°ó\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5088, lat: 31.2888 },\n          content: \"ÂêåÊµéÂ§ßÂ≠¶\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"ÂåóÂ§ñÊª©\",\n          show: false,\n        },\n      ],\n      weatherData: null, //Â≠òÂÇ®Â§©Ê∞îÊï∞ÊçÆ\n      city: \"310000\", //‰∏äÊµ∑\n      selectedMarkerIndex: -1, // ËÆ∞ÂΩïÈÄâ‰∏≠ÁöÑÊ†áËÆ∞Á¥¢Âºï\n    };\n  },\n  watch: {\n    weatherData(newData) {\n      console.log(newData);\n      // Âú®ËøôÈáåÊâßË°å‰Ω†Â∏åÊúõÂú® weatherData Êõ¥Êñ∞ÂêéÁ´ãÂç≥ÊâßË°åÁöÑÈÄªËæë\n      // console.log(this.weatherData);\n      const details =\n        \"Â∑≤Áü•‰ªäÂ§©‰∏äÊµ∑ÁöÑÂ§©Ê∞îÊï∞ÊçÆÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö\" +\n        \"ÊπøÂ∫¶Ôºö\" +\n        this.weatherData.lives[0].humidity +\n        \"ÔºåÊ∏©Â∫¶Ôºö\" +\n        this.weatherData.lives[0].temperature +\n        \"ÔºåÂ§©Ê∞îÔºö\" +\n        this.weatherData.lives[0].weather +\n        \"ÔºåÈ£éÂäõÔºö\" +\n        this.weatherData.lives[0].windpower +\n        \"ÔºåËØ∑ÈóÆÂèØ‰ª•ÂàÜÂà´‰ªéÁ©øË°£ÔºåÂá∫Ë°åÊñπÂºèÔºåÊ∏∏‰πêÁõÆÁöÑÂú∞Á≠âËßíÂ∫¶ÁªôÂá∫Âá∫Ë°åÂª∫ËÆÆÂêóÔºüÔºàÁî®ÂèØÁà±‰øèÁöÆÁöÑËØ≠Âè•Áõ¥Êé•ÁîüÊàê‰∏ÄÊÆµËØùÔºå50Âà∞100Â≠óÂ∑¶Âè≥Ôºå‰∏çË¶ÅÂàóÂá∫‰∏ÄÁÇπ‰∏ÄÁÇπÁöÑÔºâ\";\n      console.log(details);\n      // this.initGPT3(details);\n    },\n  },\n  created() {\n    this.getWeatherData();\n  },\n\n  mounted() {\n    this.mapInstance = this.$refs.map ? this.$refs.map.getMap() : null;\n    // this.getWeatherData();\n  },\n\n  methods: {\n    //ÈÄöËøáÁÇπÂáªÂú∞Âõæ‰∏äÁöÑÁÇπËé∑ÂæóËØ•ÁÇπÂÖ∑‰ΩìÁöÑÂú∞ÁÇπÂêçÁß∞\n    handleMapClick(event) {\n      const point = new BMap.Point(event.point.lng, event.point.lat);\n      const geoc = new BMap.Geocoder();\n\n      // Ë∞ÉÁî®ÁôæÂ∫¶Âú∞Âõæ API ÁöÑÈÄÜÂú∞ÁêÜÁºñÁ†ÅÊñπÊ≥ïËé∑ÂèñÂú∞Âêç\n      geoc.getLocation(point, (result) => {\n        if (result) {\n          const address = result.address; // Âú∞Âêç\n          const lng = result.point.lng; // ÁªèÂ∫¶\n          const lat = result.point.lat; // Á∫¨Â∫¶\n\n          // Â§ÑÁêÜËé∑ÂèñÂà∞ÁöÑÂú∞Âêç„ÄÅÁªèÁ∫¨Â∫¶Êï∞ÊçÆ\n          console.log(\"Âú∞Âêç:\", address);\n          console.log(\"ÁªèÂ∫¶:\", lng);\n          console.log(\"Á∫¨Â∫¶:\", lat);\n        }\n      });\n    },\n    //ÊîæÂ§ßÂú∞Âõæ\n    zoomIn() {\n      this.zoom += 1; // ÊîæÂ§ßÂú∞ÂõæÁº©ÊîæÁ∫ßÂà´\n      // this.$refs.baiduMap.setZoom(this.zoom); // Ë∞ÉÁî® setZoom ÊñπÊ≥ïÊõ¥Êñ∞Âú∞ÂõæÁº©ÊîæÁ∫ßÂà´\n    },\n    //Áº©Â∞èÂú∞Âõæ\n    zoomOut() {\n      this.zoom -= 1; // Áº©Â∞èÂú∞ÂõæÁº©ÊîæÁ∫ßÂà´\n      // this.$refs.baiduMap.setZoom(this.zoom); // Ë∞ÉÁî® setZoom ÊñπÊ≥ïÊõ¥Êñ∞Âú∞ÂõæÁº©ÊîæÁ∫ßÂà´\n    },\n    //Ë∞ÉÁî®Â§©Ê∞îapiÔºåÂ∑≤ÁªèÂèØ‰ª•Ë∞ÉÂèñÊàêÂäü\n    getWeatherData() {\n      const key = \"\t3f6157ccb2e4ec191a030932e211ffaa\"; // Â∞Ü `your key` ÊõøÊç¢Êàê‰Ω†ÁöÑÈ´òÂæ∑ÂºÄÂèëËÄÖkey\n      const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=${key}&city=${this.city}`;\n      console.log(\"Ëé∑ÂèñÂ§©Ê∞î\");\n      axios\n        .get(url)\n        .then((response) => {\n          if (response.status === 200) {\n            this.weatherData = response.data;\n            console.log(response.data);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    //Ë∞ÉÁî®WikiÁôæÁßëAPI\n    async searchWiki(keyword) {\n      try {\n        const response = await axios.get(\"https://zh.wikipedia.org/w/api.php\", {\n          params: {\n            format: \"json\",\n            action: \"query\",\n            generator: \"search\",\n            gsrnamespace: 0,\n            gsrlimit: 5,\n            prop: \"pageimages|extracts\",\n            pilimit: \"max\",\n            exintro: true,\n            explaintext: true,\n            exsentences: 1,\n            exlimit: \"max\",\n            origin: \"*\",\n            gsrsearch: keyword,\n          },\n        });\n        console.log(response.data.query.pages);\n        // var href=\"http://en.wikipedia.org/wiki/\"+encodeURIComponent(response.data.query.pages[0].title)\n        // console.log(href)\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    },\n    handleMarkerClick(marker, index) {\n      // const details = marker.name; // ÂÅáËÆæÊ†áËÆ∞ÂØπË±°‰∏≠Êúâ‰∏Ä‰∏™Â±ûÊÄß name Â≠òÂÇ®Âú∞ÁÇπÂêçÁß∞\n      console.log(\"ÁÇπÂáª‰∫Ü\" + index);\n      const details = this.markers[index].content;\n      console.log(details);\n      //Ë∞ÉÁî®WikiÁöÑÊé•Âè£\n      var href = this.searchWiki(details);\n      //Ë∞ÉÁî®GPTÊé•Âè£\n      this.initGPT3(details);\n    },\n    async initGPT3(details) {\n      const API_KEY = \"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\"; //ËæìÂÖ•API Key\n      const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true,\n      });\n      console.log(\"Ê≠£Âú®ÁîüÊàê‰ªãÁªç\" + details + \"ÁöÑ‰ø°ÊÅØ\");\n      const chatCompletion = await openai.chat.completions.create({\n        messages: [\n          {\n            role: \"user\",\n            content: `‰Ω†Â•ΩÔºå${details}`,\n          },\n        ],\n        model: \"gpt-3.5-turbo\",\n      });\n      console.log(chatCompletion);\n      console.log(chatCompletion.choices[0].message.content);\n    },\n    \n  }\n};\n</script>\n\n<style>\n.map-weather-container {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  /* Â∞ÜÂ±èÂπïÂàÜ‰∏∫‰∏§Âàó */\n}\n\n.map {\n  /* position: relative; */\n  grid-column: 1 / 2;\n  /* Â∞ÜmapÂÆπÂô®ÊîæÂú®Á¨¨‰∏ÄÂàó */\n  display: flex;\n  width: 97%;\n  height: 950px;\n}\n\n.zoom-controls {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n}\n\n.weather-container {\n  /* position: absolute; */\n  /* display: flex; */\n  grid-column: 2 / 3;\n  /* Â∞Üweather-containerÂÆπÂô®ÊîæÂú®Á¨¨‰∫åÂàó */\n  width: 96%;\n  height: 283px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #b0e2ff;\n  /* ËÆæÁΩÆËÉåÊôØÈ¢úËâ≤‰∏∫ÊµÖËìùËâ≤ */\n  border-radius: 10px;\n  /* ËÆæÁΩÆÂúÜËßíËæπÊ°ÜÂçäÂæÑ‰∏∫10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* ËÆæÁΩÆÈò¥ÂΩ±ÊïàÊûú */\n  /* Ê∑ªÂä†ÂÖ∂‰ªñÊ†∑Âºè */\n}\n\n.weather-header {\n  margin-left: 28px;\n  margin-right: 28px;\n}\n\n.weather-details {\n  grid-column: 1 / 2;\n  /* Â∞ÜdetailsÂÆπÂô®ÊîæÂú®Á¨¨‰∏ÄÂàó */\n  margin-left: 28px;\n}\n\n.weather-details-container {\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  /* Â∞ÜÂ±èÂπïÂàÜ‰∏∫Âõõ‰ªΩÔºåÁ¨¨‰∏ÄÂàóÂç†ÊçÆ‰∏Ä‰∏™‰ªΩÈ¢ùÔºåÁ¨¨‰∫åÂàóÂç†ÊçÆ‰∏â‰∏™‰ªΩÈ¢ù */\n}\n\n.weather-dialog-box {\n  width: 94%;\n  height: 110px;\n  margin-top: 10px;\n  background-color: whitesmoke;\n  border-radius: 6px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* ËÆæÁΩÆÈò¥ÂΩ±ÊïàÊûú */\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}