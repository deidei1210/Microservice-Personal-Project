{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport { BaiduMap, BmWalking, BmInfoWindow, BmBoundary, BmScale, BmMarker, BmLabel, BmLocalSearch, BmCircle, BmBus } from \"vue-baidu-map-3x\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n// import { Configuration, OpenAIApi } from \"openai\"; // 根据实际情况调整库的导入路径\nimport OpenAI from \"openai\";\nimport Qs from 'qs';\nexport default {\n  components: {\n    BaiduMap,\n    BmWalking,\n    BmInfoWindow,\n    BmBoundary,\n    BmScale,\n    BmMarker,\n    BmLabel,\n    BmLocalSearch,\n    BmCircle,\n    BmBus\n  },\n  data() {\n    return {\n      center: {\n        lat: 31.23,\n        lng: 121.474\n      },\n      zoom: 15,\n      //一些景点坐标点\n      markers: [{\n        position: {\n          lng: 121.4912,\n          lat: 31.2438\n        },\n        content: \"南京东路\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4811,\n          lat: 31.2346\n        },\n        content: \"人民广场\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5073,\n          lat: 31.2437\n        },\n        content: \"陆家嘴\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4972,\n          lat: 31.2429\n        },\n        content: \"外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4972,\n          lat: 31.2489\n        },\n        content: \"外白渡桥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4896,\n          lat: 31.2482\n        },\n        content: \"乍浦路桥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4943,\n          lat: 31.2343\n        },\n        content: \"豫园\",\n        show: false\n      }, {\n        position: {\n          lng: 121.483,\n          lat: 31.2342\n        },\n        content: \"上海博物馆\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4746,\n          lat: 31.2266\n        },\n        content: \"淮海中路\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5083,\n          lat: 31.2469\n        },\n        content: \"东方明珠\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4526,\n          lat: 31.2292\n        },\n        content: \"静安寺\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4449,\n          lat: 31.211\n        },\n        content: \"武康大楼\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4455,\n          lat: 31.2102\n        },\n        content: \"宋庆龄故居\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4427,\n          lat: 31.2015\n        },\n        content: \"徐家汇\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4759,\n          lat: 31.2139\n        },\n        content: \"田子坊\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4812,\n          lat: 31.2229\n        },\n        content: \"中共一大会址\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5076,\n          lat: 31.2132\n        },\n        content: \"南浦大桥\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4691,\n          lat: 31.2424\n        },\n        content: \"上海自然博物馆\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"思南公馆\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"四川北路\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4761,\n          lat: 31.2199\n        },\n        content: \"思南公馆\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4899,\n          lat: 31.2776\n        },\n        content: \"鲁迅公园\",\n        show: false\n      }, {\n        position: {\n          lng: 121.4908,\n          lat: 31.2581\n        },\n        content: \"四川北路\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5331,\n          lat: 31.2561\n        },\n        content: \"杨浦滨江\",\n        show: false\n      }, {\n        position: {\n          lng: 121.49,\n          lat: 31.2711\n        },\n        content: \"甜爱路\",\n        show: false\n      }, {\n        position: {\n          lng: 121.488,\n          lat: 31.2696\n        },\n        content: \"多伦路文化名人街\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5088,\n          lat: 31.2888\n        },\n        content: \"同济大学\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }, {\n        position: {\n          lng: 121.5055,\n          lat: 31.2529\n        },\n        content: \"北外滩\",\n        show: false\n      }],\n      weatherData: null,\n      //存储天气数据\n      city: \"310000\",\n      //上海\n      selectedMarkerIndex: -1,\n      // 记录选中的标记索引\n      dialogBox: \"点击下面的按钮以获得智能小助手建议～\",\n      WikiPage: [],\n      // 新添加的空数组\n      searchPlace: \"上海\",\n      briefIntro: \"<p>暂时没有对该地点的简介哦～\",\n      //点击获取点击地点的经度和纬度\n      clickLat: 31.23,\n      clickLng: 121.474,\n      clickAddress: \"上海市杨浦区四平路1239号\",\n      //设置搜索范围\n      nearby: {\n        center: {\n          lng: 121.474,\n          lat: 31.23\n        },\n        radius: 10000\n      },\n      placeKeyword: \"\",\n      startPlace: \"\",\n      startPosition: null,\n      endPlace: \"\",\n      endPosition: null,\n      planRoute: false\n    };\n  },\n  watch: {\n    weatherData(newData) {\n      console.log(newData);\n      // 在这里执行你希望在 weatherData 更新后立即执行的逻辑\n      // console.log(this.weatherData);\n    }\n  },\n\n  created() {\n    this.getWeatherData();\n  },\n  mounted() {\n    this.mapInstance = this.$refs.map ? this.$refs.map.getMap() : null;\n    // this.getWeatherData();\n    this.searchWiki(\"上海\");\n  },\n  methods: {\n    //通过点击地图上的点获得该点具体的地点名称\n    handleMapClick(event) {\n      const point = new BMap.Point(event.point.lng, event.point.lat);\n      const geoc = new BMap.Geocoder();\n\n      // 调用百度地图 API 的逆地理编码方法获取地名\n      geoc.getLocation(point, result => {\n        if (result) {\n          const address = result.address; // 地名\n          const lng = result.point.lng; // 经度\n          const lat = result.point.lat; // 纬度\n\n          this.clickLat = lat;\n          this.clickLng = lng;\n          this.clickAddress = address;\n\n          // 处理获取到的地名、经纬度数据\n          console.log(\"地名:\", address);\n          console.log(\"经度:\", lng);\n          console.log(\"纬度:\", lat);\n        }\n      });\n    },\n    //放大地图\n    zoomIn() {\n      this.zoom += 1; // 放大地图缩放级别\n      // this.$refs.baiduMap.setZoom(this.zoom); // 调用 setZoom 方法更新地图缩放级别\n    },\n\n    //缩小地图\n    zoomOut() {\n      this.zoom -= 1; // 缩小地图缩放级别\n      // this.$refs.baiduMap.setZoom(this.zoom); // 调用 setZoom 方法更新地图缩放级别\n    },\n\n    //设置为起点\n    setStartPlace() {\n      this.startPlace = this.clickAddress;\n      this.startPosition = {\n        lat: this.clickLat,\n        lng: this.clickLng\n      };\n    },\n    //设置为终点\n    setEndPlace() {\n      this.endPlace = this.clickAddress;\n      this.endPosition = {\n        lat: this.clickLat,\n        lng: this.clickLng\n      };\n    },\n    PlanRoute() {\n      if (this.startPlace != \"\" && this.endPlace != \"\") this.planRoute = true;else {\n        // 弹窗提醒用户设置起点和终点\n        alert(\"请设置起点和终点\");\n      }\n    },\n    StopPlanRoute() {\n      this.planRoute = false;\n      this.startPlace = \"\";\n      this.endPlace = \"\";\n    },\n    //调用天气api，已经可以调取成功\n    getWeatherData() {\n      const key = \"\t3f6157ccb2e4ec191a030932e211ffaa\"; // 将 `your key` 替换成你的高德开发者key\n      const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=${key}&city=${this.city}`;\n      console.log(\"获取天气\");\n      axios.get(url).then(response => {\n        if (response.status === 200) {\n          this.weatherData = response.data;\n          console.log(response.data);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    //调用Wiki百科API\n    async searchWiki(keyword) {\n      try {\n        const response = await axios.get(\"https://zh.wikipedia.org/w/api.php\", {\n          params: {\n            format: \"json\",\n            action: \"query\",\n            generator: \"search\",\n            gsrnamespace: 0,\n            gsrlimit: 5,\n            prop: \"pageimages|extracts\",\n            pilimit: \"max\",\n            exintro: true,\n            explaintext: true,\n            exsentences: 1,\n            exlimit: \"max\",\n            origin: \"*\",\n            gsrsearch: keyword\n          }\n        });\n        const pages = response.data.query.pages;\n        const wikiPages = [];\n        for (let pageId in pages) {\n          const page = pages[pageId];\n          const wikiPage = {\n            title: page.title,\n            thumbnail: page.thumbnail,\n            extract: page.extract,\n            url: \"\"\n          };\n          // 将title拼接成访问中文维基百科的链接\n          wikiPage.url = \"http://zh.wikipedia.org/wiki/\" + encodeURIComponent(page.title);\n          wikiPages.push(wikiPage);\n        }\n        this.WikiPage = wikiPages;\n        console.log(this.WikiPage);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    },\n    //得到景点介绍\n    getBriefIntro(place) {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/scenic/index',\n        data: Qs.stringify({\n          key: '1e12d5d1fb06599d02ef546b73e2c360',\n          word: place\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        if (res.data.code == 200) this.briefIntro = res.data.result.list[0].content;else {\n          this.briefIntro = \"\";\n        }\n        console.log(res.data);\n        console.log(res);\n      });\n    },\n    handleMarkerClick(marker, index) {\n      // const details = marker.name; // 假设标记对象中有一个属性 name 存储地点名称\n      console.log(\"点击了\" + index);\n      const details = this.markers[index].content;\n      console.log(details);\n      this.searchPlace = details;\n      //调用Wiki的接口\n      var href = this.searchWiki(details);\n      //调用景点介绍的接口\n      this.getBriefIntro(details);\n      //调用GPT接口\n      // this.initGPT3(details);\n    },\n\n    //点击穿衣按钮之后获取穿衣建议\n    getDressAdvice() {\n      const details = \"已知今天上海的天气数据如下所示：\" + \"湿度：\" + this.weatherData.lives[0].humidity + \"，温度：\" + this.weatherData.lives[0].temperature + \"，天气：\" + this.weatherData.lives[0].weather + \"，风力：\" + this.weatherData.lives[0].windpower + \"，请问可以给出穿衣建议吗？比如说今天适合穿什么样的衣服？比如如果温度高于25度就适合穿短袖，如果温度在17到25之间左右就可以穿衬衫等等（用可爱俏皮的语句直接生成一段话，50到80字左右，不要列出一点一点的，也不要太长）\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //点击出行按钮之后获取出行建议\n    getTravelAdvice() {\n      const details = \"已知今天上海的天气数据如下所示：\" + \"湿度：\" + this.weatherData.lives[0].humidity + \"，温度：\" + this.weatherData.lives[0].temperature + \"，天气：\" + this.weatherData.lives[0].weather + \"，风力：\" + this.weatherData.lives[0].windpower + \"，请问可以给出出行建议吗？就根据我给你的上海目前的天气信息给出，比如说如果今天下雨就建议打车或者地铁，如果今天天晴就建议骑自行车或者走路，如果风大就尽量不要骑车等等。（用可爱俏皮的语句直接生成一段话，50到80字左右，不要列出一点一点的，也不要太长）\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //点击天气概述按钮之后获取天气概述\n    getWeatherSummary() {\n      const details = \"已知今天上海的天气数据如下所示：\" + \"湿度：\" + this.weatherData.lives[0].humidity + \"，温度：\" + this.weatherData.lives[0].temperature + \"，天气：\" + this.weatherData.lives[0].weather + \"，风力：\" + this.weatherData.lives[0].windpower + \"，请你用可爱俏皮的语句，同时写一首唐诗来描述今天的天气，这首诗需要包含今天的天气特点以及人们的活动，景色等等\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    showResponse() {\n      // 将回复显示在对话框中\n      this.dialogBox = \"正在生成中......\";\n    },\n    async initGPT3(details, choice) {\n      const API_KEY = \"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\"; //输入API Key\n      const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true\n      });\n      console.log(\"正在生成介绍\" + details + \"的信息\");\n      const chatCompletion = await openai.chat.completions.create({\n        messages: [{\n          role: \"user\",\n          content: `你好，${details}`\n        }],\n        model: \"gpt-3.5-turbo\"\n      });\n      console.log(chatCompletion);\n      console.log(chatCompletion.choices[0].message.content);\n      // 说明此时是在生成智能出行小助手\n      if (choice == 1) {\n        //显示在消息框内\n        this.dialogBox = chatCompletion.choices[0].message.content;\n      } else {}\n    }\n  }\n};","map":{"version":3,"names":["BaiduMap","BmWalking","BmInfoWindow","BmBoundary","BmScale","BmMarker","BmLabel","BmLocalSearch","BmCircle","BmBus","ref","onMounted","axios","OpenAI","Qs","components","data","center","lat","lng","zoom","markers","position","content","show","weatherData","city","selectedMarkerIndex","dialogBox","WikiPage","searchPlace","briefIntro","clickLat","clickLng","clickAddress","nearby","radius","placeKeyword","startPlace","startPosition","endPlace","endPosition","planRoute","watch","newData","console","log","created","getWeatherData","mounted","mapInstance","$refs","map","getMap","searchWiki","methods","handleMapClick","event","point","BMap","Point","geoc","Geocoder","getLocation","result","address","zoomIn","zoomOut","setStartPlace","setEndPlace","PlanRoute","alert","StopPlanRoute","key","url","get","then","response","status","catch","error","keyword","params","format","action","generator","gsrnamespace","gsrlimit","prop","pilimit","exintro","explaintext","exsentences","exlimit","origin","gsrsearch","pages","query","wikiPages","pageId","page","wikiPage","title","thumbnail","extract","encodeURIComponent","push","getBriefIntro","place","method","stringify","word","headers","res","code","list","handleMarkerClick","marker","index","details","href","getDressAdvice","lives","humidity","temperature","weather","windpower","initGPT3","showResponse","getTravelAdvice","getWeatherSummary","choice","API_KEY","openai","apiKey","dangerouslyAllowBrowser","chatCompletion","chat","completions","create","messages","role","model","choices","message"],"sources":["/Users/mac/Desktop/作业/微服务架构/Microservice-Personal-Project/src/components/map.vue"],"sourcesContent":["<template>\n  <div class=\"map-weather-container\">\n    <!-- 用于显示地图 -->\n    <div class=\"map\">\n      <baidu-map class=\"map\" :center=\"center\" :zoom=\"zoom\" :scroll-wheel-zoom=true @click=\"handleMapClick\">\n\n        <!-- 给特殊地点加上一些标注和说明 -->\n        <bm-marker v-for=\"(marker, index) in markers\" :key=\"index\" :position=\"marker.position\" :dragging=\"false\"\n          @click=\"handleMarkerClick(marker, index)\">\n          <bm-label :content=\"marker.content\" :labelStyle=\"{ color: 'red', fontSize: '15px' }\"\n            :offset=\"{ width: -35, height: 30 }\"></bm-label>\n        </bm-marker>\n        <!-- 地图类型切换 -->\n        <!-- <bm-map-type :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\" anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-map-type> -->\n\n        <div class=\"zoom-controls\">\n          <button @click=\"zoomIn\">放大</button>\n          <button @click=\"zoomOut\">缩小</button>\n        </div>\n        <!-- 显示当前用户点击的地点的经纬度 -->\n        <div class=\"showAddress\">\n          <div>纬度：{{ clickLat }}</div>\n          <div>经度：{{ clickLng }}</div>\n          <div>地址：{{ clickAddress }}</div>\n        </div>\n\n        <!-- 步行路线 -->\n        <bm-walking v-if=\"planRoute\" :start=\"startPosition\" :end=\"endPosition\" location=\"上海\"\n          :auto-viewport=\"true\" :selectFirstResult=\"true\" :panel=\"true\"></bm-walking>\n        <!-- 公交线路查询 -->\n        <!-- <bm-bus keyword=\"123路公交车\" :auto-viewport=\"true\" location=\"上海\"></bm-bus> -->\n      </baidu-map>\n    </div>\n\n    <!-- 用于显示右边的信息框 -->\n    <div class=\"info\">\n      <!-- 用于显示天气 -->\n      <div class=\"weather-container\" v-if=\"weatherData\">\n        <!-- 显示天气部分的title -->\n        <div class=\"weather-header\">\n          <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n            {{ weatherData.lives[0].city }}实时天气☁️\n            <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n              {{ weatherData.lives[0].reporttime }}\n            </span>\n          </p>\n        </div>\n        <!-- 天气的具体信息+出行建议 -->\n        <div class=\"weather-details-container\">\n          <!-- 显示天气的具体信息 -->\n          <div class=\"weather-details\">\n            <p>温度🌡️：{{ weatherData.lives[0].temperature }}°C</p>\n            <p>天气☁️：{{ weatherData.lives[0].weather }}</p>\n            <p>湿度💧：{{ weatherData.lives[0].humidity }}%</p>\n            <p>风向🌬：{{ weatherData.lives[0].winddirection }}风</p>\n            <p>风力💨：{{ weatherData.lives[0].windpower }}级</p>\n          </div>\n          <!-- 显示具体的出行建议 -->\n          <div>\n            <!-- title -->\n            <div style=\"font-size: 18px; font-weight: bold;\">出行智能小助手</div>\n            <div class=\"weather-dialog-box\">\n              <div class=\"dialog-content\">{{ dialogBox }}</div>\n            </div>\n            <!-- 添加按钮 -->\n            <button id=\"dress-advice-btn\" @click=\"getDressAdvice\">穿衣建议</button>\n            <button id=\"travel-advice-btn\" @click=\"getTravelAdvice\">出行建议</button>\n            <button id=\"weather-summary-btn\" @click=\"getWeatherSummary\">天气概述</button>\n            <!-- 对话框 -->\n          </div>\n        </div>\n      </div>\n      <!-- 对景点的简介 -->\n      <div class=\"brief-introduction\">\n        <!-- 显示wiki部分的title -->\n        <div class=\"weather-header\">\n          <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n            景点简介📖\n            <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n              下面是对“{{ searchPlace }}\"的简介\n            </span>\n          </p>\n        </div>\n\n        <!-- 显示搜索结果 -->\n        <div class=\"searchresult\">\n          <div v-html=\"briefIntro\"></div>\n        </div>\n\n      </div>\n      <!-- 用于显示维基百科查询结果 -->\n      <div class=\"wiki-search\">\n        <!-- 显示wiki部分的title -->\n        <div class=\"weather-header\">\n          <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n            景点介绍百科🔍\n            <span style=\"color: #aaa; font-size: 16px; font-weight: normal\">\n              下面是对“{{ searchPlace }}\"的搜索结果\n            </span>\n          </p>\n        </div>\n\n        <!-- 显示搜索结果 -->\n        <div class=\"searchresult\">\n          <div v-for=\"page in WikiPage\" :key=\"page.title\">\n            <div class=\"page-item\">\n              <img v-if=\"page.thumbnail && page.thumbnail.source\" :src=\"page.thumbnail.source\" :alt=\"page.title\" />\n              <div class=\"page-content\">\n                <a :href=\"page.url\" target=\"_blank\">{{ page.title }}</a>\n                <p style=\"font-size: small;\">{{ page.extract }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 地图导航 -->\n      <div class=\"guide-container\">\n        <!-- 显示wiki部分的title -->\n        <div class=\"weather-header\">\n          <p style=\"font-size: 24px; font-weight: bold; border-bottom: 1px solid #ccc\">\n            路线规划🚗\n          </p>\n        </div>\n        <div class=\"route-details\">\n          <div style=\"display:inline-block;\">当前选中地址：{{ clickAddress }}</div>\n          <button @click=\"setStartPlace\" style=\"display:inline-block;margin-left:10px;\">设置为起点</button>\n          <button @click=\"setEndPlace\" style=\"display:inline-block;margin-left:10px;\">设置为终点</button>\n          <div style=\"margin-top:8px;\">起点：<span v-if=\"startPlace\">{{ startPlace }}</span>\n            <span v-else>未选择起点</span>\n          </div>\n          <div style=\"margin-top:8px;\">终点：<span v-if=\"endPlace\">{{ endPlace }}</span>\n            <span v-else>未选择终点</span>\n          </div>\n          <div style=\"margin-top:8px;\">\n            <button @click=\"PlanRoute\">开始规划</button>\n            <button @click=\"StopPlanRoute\" style=\"margin-left:10px;\">重新设置</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport {\n  BaiduMap,\n  BmWalking,\n  BmInfoWindow,\n  BmBoundary,\n  BmScale,\n  BmMarker,\n  BmLabel,\n  BmLocalSearch,\n  BmCircle,\n  BmBus\n} from \"vue-baidu-map-3x\";\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n// import { Configuration, OpenAIApi } from \"openai\"; // 根据实际情况调整库的导入路径\nimport OpenAI from \"openai\";\nimport Qs from 'qs';\nexport default {\n  components: {\n    BaiduMap,\n    BmWalking,\n    BmInfoWindow,\n    BmBoundary,\n    BmScale,\n    BmMarker,\n    BmLabel,\n    BmLocalSearch,\n    BmCircle,\n    BmBus\n  },\n\n  data() {\n    return {\n      center: { lat: 31.23, lng: 121.474 },\n      zoom: 15,\n      //一些景点坐标点\n      markers: [\n        {\n          position: { lng: 121.4912, lat: 31.2438 },\n          content: \"南京东路\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4811, lat: 31.2346 },\n          content: \"人民广场\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5073, lat: 31.2437 },\n          content: \"陆家嘴\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2429 },\n          content: \"外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4972, lat: 31.2489 },\n          content: \"外白渡桥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4896, lat: 31.2482 },\n          content: \"乍浦路桥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4943, lat: 31.2343 },\n          content: \"豫园\",\n          show: false,\n        },\n        {\n          position: { lng: 121.483, lat: 31.2342 },\n          content: \"上海博物馆\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4746, lat: 31.2266 },\n          content: \"淮海中路\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5083, lat: 31.2469 },\n          content: \"东方明珠\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4526, lat: 31.2292 },\n          content: \"静安寺\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4449, lat: 31.211 },\n          content: \"武康大楼\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4455, lat: 31.2102 },\n          content: \"宋庆龄故居\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4427, lat: 31.2015 },\n          content: \"徐家汇\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4759, lat: 31.2139 },\n          content: \"田子坊\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4812, lat: 31.2229 },\n          content: \"中共一大会址\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5076, lat: 31.2132 },\n          content: \"南浦大桥\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4691, lat: 31.2424 },\n          content: \"上海自然博物馆\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"思南公馆\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"四川北路\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4761, lat: 31.2199 },\n          content: \"思南公馆\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4899, lat: 31.2776 },\n          content: \"鲁迅公园\",\n          show: false,\n        },\n        {\n          position: { lng: 121.4908, lat: 31.2581 },\n          content: \"四川北路\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5331, lat: 31.2561 },\n          content: \"杨浦滨江\",\n          show: false,\n        },\n        {\n          position: { lng: 121.49, lat: 31.2711 },\n          content: \"甜爱路\",\n          show: false,\n        },\n        {\n          position: { lng: 121.488, lat: 31.2696 },\n          content: \"多伦路文化名人街\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5088, lat: 31.2888 },\n          content: \"同济大学\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n        {\n          position: { lng: 121.5055, lat: 31.2529 },\n          content: \"北外滩\",\n          show: false,\n        },\n      ],\n      weatherData: null, //存储天气数据\n      city: \"310000\", //上海\n      selectedMarkerIndex: -1, // 记录选中的标记索引\n      dialogBox: \"点击下面的按钮以获得智能小助手建议～\",\n      WikiPage: [], // 新添加的空数组\n      searchPlace: \"上海\",\n      briefIntro:\"<p>暂时没有对该地点的简介哦～\",\n\n      //点击获取点击地点的经度和纬度\n      clickLat: 31.23,\n      clickLng: 121.474,\n      clickAddress: \"上海市杨浦区四平路1239号\",\n\n      //设置搜索范围\n      nearby: {\n        center: {\n          lng: 121.474,\n          lat: 31.23\n        },\n        radius: 10000\n      },\n      placeKeyword: \"\",\n      startPlace: \"\",\n      startPosition: null,\n\n      endPlace: \"\",\n      endPosition: null,\n\n      planRoute: false,\n\n    };\n  },\n  watch: {\n    weatherData(newData) {\n      console.log(newData);\n      // 在这里执行你希望在 weatherData 更新后立即执行的逻辑\n      // console.log(this.weatherData);\n    },\n  },\n  created() {\n    this.getWeatherData();\n  },\n\n  mounted() {\n    this.mapInstance = this.$refs.map ? this.$refs.map.getMap() : null;\n    // this.getWeatherData();\n    this.searchWiki(\"上海\")\n  },\n\n  methods: {\n    //通过点击地图上的点获得该点具体的地点名称\n    handleMapClick(event) {\n      const point = new BMap.Point(event.point.lng, event.point.lat);\n      const geoc = new BMap.Geocoder();\n\n      // 调用百度地图 API 的逆地理编码方法获取地名\n      geoc.getLocation(point, (result) => {\n        if (result) {\n          const address = result.address; // 地名\n          const lng = result.point.lng; // 经度\n          const lat = result.point.lat; // 纬度\n\n          this.clickLat = lat;\n          this.clickLng = lng;\n          this.clickAddress = address;\n\n          // 处理获取到的地名、经纬度数据\n          console.log(\"地名:\", address);\n          console.log(\"经度:\", lng);\n          console.log(\"纬度:\", lat);\n        }\n      });\n    },\n    //放大地图\n    zoomIn() {\n      this.zoom += 1; // 放大地图缩放级别\n      // this.$refs.baiduMap.setZoom(this.zoom); // 调用 setZoom 方法更新地图缩放级别\n    },\n    //缩小地图\n    zoomOut() {\n      this.zoom -= 1; // 缩小地图缩放级别\n      // this.$refs.baiduMap.setZoom(this.zoom); // 调用 setZoom 方法更新地图缩放级别\n    },\n\n    //设置为起点\n    setStartPlace() {\n      this.startPlace = this.clickAddress\n      this.startPosition = { lat: this.clickLat, lng: this.clickLng }\n    },\n\n    //设置为终点\n    setEndPlace() {\n      this.endPlace = this.clickAddress\n      this.endPosition = { lat: this.clickLat, lng: this.clickLng }\n\n    },\n    PlanRoute() {\n      if (this.startPlace != \"\" && this.endPlace != \"\")\n        this.planRoute = true\n      else {\n        // 弹窗提醒用户设置起点和终点\n        alert(\"请设置起点和终点\");\n      }\n    },\n    StopPlanRoute() {\n      this.planRoute = false\n      this.startPlace = \"\"\n      this.endPlace = \"\"\n    },\n    //调用天气api，已经可以调取成功\n    getWeatherData() {\n      const key = \"\t3f6157ccb2e4ec191a030932e211ffaa\"; // 将 `your key` 替换成你的高德开发者key\n      const url = `https://restapi.amap.com/v3/weather/weatherInfo?key=${key}&city=${this.city}`;\n      console.log(\"获取天气\");\n      axios\n        .get(url)\n        .then((response) => {\n          if (response.status === 200) {\n            this.weatherData = response.data;\n            console.log(response.data);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    //调用Wiki百科API\n    async searchWiki(keyword) {\n      try {\n        const response = await axios.get(\"https://zh.wikipedia.org/w/api.php\", {\n          params: {\n            format: \"json\",\n            action: \"query\",\n            generator: \"search\",\n            gsrnamespace: 0,\n            gsrlimit: 5,\n            prop: \"pageimages|extracts\",\n            pilimit: \"max\",\n            exintro: true,\n            explaintext: true,\n            exsentences: 1,\n            exlimit: \"max\",\n            origin: \"*\",\n            gsrsearch: keyword,\n          },\n        });\n        const pages = response.data.query.pages;\n        const wikiPages = [];\n        for (let pageId in pages) {\n          const page = pages[pageId];\n          const wikiPage = {\n            title: page.title,\n            thumbnail: page.thumbnail,\n            extract: page.extract,\n            url: \"\"\n          };\n          // 将title拼接成访问中文维基百科的链接\n          wikiPage.url = \"http://zh.wikipedia.org/wiki/\" + encodeURIComponent(page.title);\n          wikiPages.push(wikiPage);\n        }\n        this.WikiPage = wikiPages;\n        console.log(this.WikiPage);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    },\n    //得到景点介绍\n    getBriefIntro(place) {\n      axios({\n        method: 'post',\n        url: 'https://apis.tianapi.com/scenic/index',\n        data: Qs.stringify({ key: '1e12d5d1fb06599d02ef546b73e2c360', word: place }),\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      }).then((res) => {\n        if(res.data.code==200)\n          this.briefIntro = res.data.result.list[0].content;\n        else{\n          this.briefIntro=\"\"\n        }\n        console.log(res.data)\n        console.log(res)\n      });\n    },\n    handleMarkerClick(marker, index) {\n      // const details = marker.name; // 假设标记对象中有一个属性 name 存储地点名称\n      console.log(\"点击了\" + index);\n      const details = this.markers[index].content;\n      console.log(details);\n      this.searchPlace = details;\n      //调用Wiki的接口\n      var href = this.searchWiki(details);\n      //调用景点介绍的接口\n      this.getBriefIntro(details)\n      //调用GPT接口\n      // this.initGPT3(details);\n    },\n\n    //点击穿衣按钮之后获取穿衣建议\n    getDressAdvice() {\n      const details =\n        \"已知今天上海的天气数据如下所示：\" +\n        \"湿度：\" +\n        this.weatherData.lives[0].humidity +\n        \"，温度：\" +\n        this.weatherData.lives[0].temperature +\n        \"，天气：\" +\n        this.weatherData.lives[0].weather +\n        \"，风力：\" +\n        this.weatherData.lives[0].windpower +\n        \"，请问可以给出穿衣建议吗？比如说今天适合穿什么样的衣服？比如如果温度高于25度就适合穿短袖，如果温度在17到25之间左右就可以穿衬衫等等（用可爱俏皮的语句直接生成一段话，50到80字左右，不要列出一点一点的，也不要太长）\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //点击出行按钮之后获取出行建议\n    getTravelAdvice() {\n      const details =\n        \"已知今天上海的天气数据如下所示：\" +\n        \"湿度：\" +\n        this.weatherData.lives[0].humidity +\n        \"，温度：\" +\n        this.weatherData.lives[0].temperature +\n        \"，天气：\" +\n        this.weatherData.lives[0].weather +\n        \"，风力：\" +\n        this.weatherData.lives[0].windpower +\n        \"，请问可以给出出行建议吗？就根据我给你的上海目前的天气信息给出，比如说如果今天下雨就建议打车或者地铁，如果今天天晴就建议骑自行车或者走路，如果风大就尽量不要骑车等等。（用可爱俏皮的语句直接生成一段话，50到80字左右，不要列出一点一点的，也不要太长）\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    //点击天气概述按钮之后获取天气概述\n    getWeatherSummary() {\n      const details =\n        \"已知今天上海的天气数据如下所示：\" +\n        \"湿度：\" +\n        this.weatherData.lives[0].humidity +\n        \"，温度：\" +\n        this.weatherData.lives[0].temperature +\n        \"，天气：\" +\n        this.weatherData.lives[0].weather +\n        \"，风力：\" +\n        this.weatherData.lives[0].windpower +\n        \"，请你用可爱俏皮的语句，同时写一首唐诗来描述今天的天气，这首诗需要包含今天的天气特点以及人们的活动，景色等等\";\n      console.log(details);\n      this.initGPT3(details, 1);\n      this.showResponse();\n    },\n    showResponse() {\n      // 将回复显示在对话框中\n      this.dialogBox = \"正在生成中......\";\n    },\n\n    async initGPT3(details, choice) {\n      const API_KEY = \"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\"; //输入API Key\n      const openai = new OpenAI({\n        apiKey: API_KEY,\n        dangerouslyAllowBrowser: true,\n      });\n      console.log(\"正在生成介绍\" + details + \"的信息\");\n      const chatCompletion = await openai.chat.completions.create({\n        messages: [\n          {\n            role: \"user\",\n            content: `你好，${details}`,\n          },\n        ],\n        model: \"gpt-3.5-turbo\",\n      });\n      console.log(chatCompletion);\n      console.log(chatCompletion.choices[0].message.content);\n      // 说明此时是在生成智能出行小助手\n      if (choice == 1) {\n        //显示在消息框内\n        this.dialogBox = chatCompletion.choices[0].message.content;\n      }\n      else {\n\n      }\n    },\n\n  }\n};\n</script>\n\n<style>\n.map-weather-container {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  /* 将屏幕分为两列 */\n}\n\n.map {\n  /* position: relative; */\n  grid-column: 1 / 2;\n  /* 将map容器放在第一列 */\n  display: flex;\n  width: 97%;\n  height: 950px;\n}\n\n.zoom-controls {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n}\n\n.info {\n  grid-column: 2 / 3;\n}\n\n.weather-container {\n  /* position: absolute; */\n  /* display: flex; */\n  /* 将weather-container容器放在第二列 */\n  width: 96%;\n  height: 283px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #b0e2ff;\n  /* 设置背景颜色为浅蓝色 */\n  border-radius: 10px;\n  /* 设置圆角边框半径为10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* 设置阴影效果 */\n  /* 添加其他样式 */\n}\n\n.weather-header {\n  margin-left: 28px;\n  margin-right: 28px;\n}\n\n.weather-details {\n  grid-column: 1 / 2;\n  /* 将details容器放在第一列 */\n  margin-left: 28px;\n}\n\n.weather-details-container {\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  /* 将屏幕分为四份，第一列占据一个份额，第二列占据三个份额 */\n}\n\n.weather-dialog-box {\n  width: 94%;\n  height: 110px;\n  margin-top: 10px;\n  background-color: whitesmoke;\n  border-radius: 6px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  /* 设置阴影效果 */\n  padding: 10px;\n  overflow: auto;\n  max-height: 100px;\n  /* 设置最大高度，超过该高度将显示滚动条 */\n}\n\n.dialog-content {\n  white-space: pre-wrap;\n  /* 处理换行符等空白字符 */\n}\n\n.wiki-search {\n  width: 96%;\n  height: 283px;\n  margin-top: 20px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #b0e2ff;\n  /* 设置背景颜色为浅蓝色 */\n  border-radius: 10px;\n  /* 设置圆角边框半径为10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\n}\n\n.searchresult {\n  max-height: 210px;\n  /* 设置最大高度 */\n  overflow: auto;\n  /* 当内容超出高度时显示滚动条 */\n  margin: 0px 20px 0px 20px;\n}\n\n.page-item {\n  display: flex;\n  margin-top: 10px;\n}\n\n.page-item img {\n  width: 100px;\n  height: 100px;\n  margin-right: 10px;\n}\n\n.page-content {\n  flex: 1;\n}\n\n.showAddress {\n  background-color: #fff;\n  position: absolute;\n  top: 50px;\n  left: 10px;\n  z-index: 9999;\n  /* height:100px; */\n  /* width: 400px; */\n}\n\n.guide-container {\n  width: 96%;\n  height: 283px;\n  margin-top: 20px;\n  top: 10px;\n  left: 10px;\n  z-index: 9999;\n  background-color: #b0e2ff;\n  /* 设置背景颜色为浅蓝色 */\n  border-radius: 10px;\n  /* 设置圆角边框半径为10px */\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.route-details {\n  margin-left: 20px;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}